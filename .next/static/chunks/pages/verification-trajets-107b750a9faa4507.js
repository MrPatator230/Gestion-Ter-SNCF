(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1409,1843],{2552:()=>{},3620:(e,t,r)=>{"use strict";r.d(t,{k5:()=>d});var i=r(4232),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=i.createContext&&i.createContext(n),a=["attr","size","title"];function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){var i,n,s;i=e,n=t,s=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in i?Object.defineProperty(i,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[n]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return t=>i.createElement(m,l({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>i.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function m(e){var t=t=>{var r,{attr:n,size:s,title:o}=e,d=function(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,a),m=s||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),i.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,d,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),o&&i.createElement("title",null,o),e.children)};return void 0!==s?i.createElement(s.Consumer,null,e=>t(e)):t(n)}},4248:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var i=r(7876),n=r(4250),s=r.n(n),a=r(4232),l=r(9099);r(7328);var o=r(7180),c=r(5364),d=r(5448),m=r(6790);function u(){var e;let t=(0,l.useRouter)(),[r,n]=(0,a.useState)(""),[u,f]=(0,a.useState)(null),[b,p]=(0,a.useState)(""),[h,x]=(0,a.useState)(!1),[y,g]=(0,a.useState)(""),[v,j]=(0,a.useState)(null),{trackAssignments:w}=function(){let[e,t]=(0,a.useState)({});return(0,a.useEffect)(()=>{let e=localStorage.getItem("trackAssignments");if(e)try{t(JSON.parse(e))}catch(e){console.error("Erreur lors du chargement des attributions de quais:",e)}let r=e=>{if("trackAssignments"===e.key)try{let r=JSON.parse(e.newValue);t(r)}catch(e){console.error("Erreur lors de la mise \xe0 jour des attributions de quais:",e)}};return window.addEventListener("storage",r),()=>window.removeEventListener("storage",r)},[]),{trackAssignments:e,updateTrackAssignment:(r,i,n)=>{let s={...e,[r]:{...e[r]||{},[i]:n}};t(s),localStorage.setItem("trackAssignments",JSON.stringify(s))}}}(),_='<svg aria-hidden="true" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="css-1argc29"><path d="M16.1496 17.1591C16.2075 17.1153 16.2654 17.0824 16.3117 17.0386C16.8094 16.6554 17.284 16.075 17.6197 15.1661C18.0943 13.8958 18.4299 12.757 18.5225 11.3553C18.6499 9.62509 17.8975 6.9422 17.3998 5.69384L17.2261 5.25582C17.122 4.9711 16.7053 4.37977 15.9876 3.65703C15.3625 3.0438 14.7606 3 13.8578 3H10.1538C9.23936 3 8.64903 3.0438 8.02398 3.65703C7.29475 4.36882 6.88962 4.9711 6.78545 5.25582L6.61182 5.69384C6.1141 6.9422 5.36172 9.62509 5.48905 11.3553C5.58165 12.757 5.91732 13.8849 6.3919 15.1661C6.72757 16.075 7.19058 16.6663 7.69988 17.0386C7.74618 17.0715 7.80405 17.1153 7.86193 17.1591L5.16494 19.9953C4.94502 20.2252 4.94502 20.5976 5.16494 20.8275C5.38487 21.0575 5.7437 21.0575 5.95205 20.8275L6.87805 19.8529H17.122L18.048 20.8275C18.2679 21.0575 18.6151 21.0575 18.8351 20.8275C19.055 20.5976 19.055 20.2252 18.8351 19.9953L16.1496 17.1591ZM15.2468 16.1297C14.7375 16.1297 14.3208 15.7355 14.3208 15.2537C14.3208 14.7719 14.7375 14.3776 15.2468 14.3776C15.7561 14.3776 16.1728 14.7719 16.1728 15.2537C16.1728 15.7355 15.7561 16.1297 15.2468 16.1297ZM6.86647 10.5121C6.2993 10.5121 7.19057 5.8143 7.5957 5.8143H16.3001C16.74 5.8143 17.7702 10.5121 17.0757 10.5121H6.86647ZM7.80405 15.2537C7.80405 14.7719 8.22075 14.3776 8.73005 14.3776C9.23936 14.3776 9.65606 14.7719 9.65606 15.2537C9.65606 15.7355 9.23936 16.1297 8.73005 16.1297C8.22075 16.1297 7.80405 15.7355 7.80405 15.2537ZM8.00083 18.6703L8.99628 17.63C9.48243 17.7395 9.92228 17.7395 10.2464 17.7395H13.7536C14.0777 17.7395 14.5291 17.7395 15.0037 17.63L15.9992 18.6703H8.00083Z"></path></svg>';(0,a.useEffect)(()=>{let e=localStorage.getItem("companySettings");e&&g(JSON.parse(e).logoUrl||""),t.query.numero&&(n(t.query.numero),k(t.query.numero));let r=setInterval(()=>{t.query.numero&&(k(t.query.numero),z())},3e4),i=setInterval(z,6e4);return()=>{clearInterval(r),clearInterval(i)}},[t.query]);let k=async e=>{x(!0),p(""),f(null);try{let t=(0,c.Os)().find(t=>t.trainNumber===e);t?(f(t),z()):p("Train non trouv\xe9. Veuillez v\xe9rifier le num\xe9ro.")}catch(e){p("Une erreur est survenue lors de la recherche.")}finally{x(!1)}},S=e=>e||"-",N=(e,t)=>{var r;return u?(null==(r=w[e])?void 0:r[t])||"-":null},z=()=>{if(!u)return;let e=new Date,t=e.getHours(),r=e.getMinutes(),i="".concat(String(t).padStart(2,"0"),":").concat(String(r).padStart(2,"0")),n=T(),s=null;for(let e=0;e<n.length;e++){let t=n[e];if("intermediate"===t.type){if(i===t.arrivalTime||i===t.departureTime){s={type:"at-station",index:e};break}}else if(i===t.time){s={type:"at-station",index:e};break}}if(!s)for(let e=0;e<n.length-1;e++){let t=n[e],r=n[e+1];if(C(i,"intermediate"===t.type?t.departureTime:t.time,"intermediate"===r.type?r.arrivalTime:r.time)){s={type:"between-stations",fromIndex:e,toIndex:e+1};break}}j(s)},C=(e,t,r)=>{let[i,n]=e.split(":").map(Number),[s,a]=t.split(":").map(Number),[l,o]=r.split(":").map(Number),c=60*i+n;return c>=60*s+a&&c<=60*l+o},T=()=>{if(!u)return[];let e=[];return e.push({station:u.departureStation,time:u.departureTime,type:"departure",voie:N(u.id,u.departureStation,u.departureTime),delay:u.delayMinutes||0,status:u.isCancelled?"cancelled":null}),u.servedStations&&u.servedStations.forEach(t=>{let r="object"==typeof t?t.name:t;e.push({station:r,arrivalTime:t.arrivalTime,departureTime:t.departureTime,type:"intermediate",voie:N(u.id,r,t.departureTime),delay:u.delayMinutes||0,status:u.isCancelled?"cancelled":null})}),e.push({station:u.arrivalStation,time:u.arrivalTime,type:"arrival",voie:N(u.id,u.arrivalStation,u.arrivalTime),delay:u.delayMinutes||0,status:u.isCancelled?"cancelled":null}),e};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.A,{}),(0,i.jsxs)("div",{className:"jsx-64845b6fd90c5134 mastheader",children:[(0,i.jsx)("div",{className:"jsx-64845b6fd90c5134 mastheader-logo d-none d-xl-block",children:y?(0,i.jsx)("img",{src:y,alt:"Logo",height:"40",className:"jsx-64845b6fd90c5134"}):(0,i.jsx)("i",{className:"jsx-64845b6fd90c5134 icons-logo"})}),(0,i.jsx)("header",{role:"banner",className:"jsx-64845b6fd90c5134 mastheader-title",children:(0,i.jsx)("h1",{className:"jsx-64845b6fd90c5134 text-white mb-0",children:"V\xe9rification des trajets"})})]}),(0,i.jsxs)("div",{className:"jsx-64845b6fd90c5134 container-fluid",children:[(0,i.jsx)("div",{className:"jsx-64845b6fd90c5134 row",children:(0,i.jsxs)("div",{className:"jsx-64845b6fd90c5134 col-12",children:[(0,i.jsx)("nav",{role:"navigation",className:"jsx-64845b6fd90c5134 pb-3",children:(0,i.jsx)("div",{className:"jsx-64845b6fd90c5134 card mt-3",children:(0,i.jsx)("div",{className:"jsx-64845b6fd90c5134 card-body",children:(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r&&t.push({pathname:"/verification-trajets",query:{numero:r}})},className:"jsx-64845b6fd90c5134 row g-3 align-items-end",children:[(0,i.jsxs)("div",{className:"jsx-64845b6fd90c5134 col-md-8",children:[(0,i.jsx)("label",{htmlFor:"trainNumber",className:"jsx-64845b6fd90c5134 form-label",children:"Num\xe9ro du train"}),(0,i.jsxs)("div",{className:"jsx-64845b6fd90c5134 input-group",children:[(0,i.jsx)("span",{className:"jsx-64845b6fd90c5134 input-group-text",children:(0,i.jsx)("i",{className:"jsx-64845b6fd90c5134 icons-search"})}),(0,i.jsx)("input",{type:"text",id:"trainNumber",placeholder:"Ex: 891800",value:r,onChange:e=>n(e.target.value),required:!0,className:"jsx-64845b6fd90c5134 form-control form-control-lg"})]})]}),(0,i.jsx)("div",{className:"jsx-64845b6fd90c5134 col-md-4",children:(0,i.jsxs)("button",{type:"submit",disabled:h,className:"jsx-64845b6fd90c5134 btn btn-primary btn-lg w-100",children:[h?(0,i.jsx)("span",{role:"status",className:"jsx-64845b6fd90c5134 spinner-border spinner-border-sm me-2"}):(0,i.jsx)("i",{className:"jsx-64845b6fd90c5134 icons-search me-2"}),"Rechercher"]})})]})})})}),b&&(0,i.jsxs)("div",{role:"alert",className:"jsx-64845b6fd90c5134 alert alert-danger",children:[(0,i.jsx)("i",{className:"jsx-64845b6fd90c5134 icons-warning me-2"}),b]}),u&&(0,i.jsxs)("div",{className:"jsx-64845b6fd90c5134 train-details",children:[(0,i.jsxs)("div",{className:"jsx-64845b6fd90c5134 card mb-4",children:[(0,i.jsx)("div",{className:"jsx-64845b6fd90c5134 card-header",children:(0,i.jsx)("div",{className:"jsx-64845b6fd90c5134 row align-items-center",children:(0,i.jsx)("div",{className:"jsx-64845b6fd90c5134 col",children:(0,i.jsxs)("h2",{className:"jsx-64845b6fd90c5134 h5 mb-0",children:["Train ",u.trainNumber,(0,i.jsx)("span",{className:"jsx-64845b6fd90c5134 badge bg-primary ms-2",children:u.trainType})]})})})}),(0,i.jsx)("div",{className:"jsx-64845b6fd90c5134 card-body",children:(0,i.jsxs)("div",{className:"jsx-64845b6fd90c5134 row",children:[(0,i.jsxs)("div",{className:"jsx-64845b6fd90c5134 col-md-6",children:[(0,i.jsxs)("p",{className:"jsx-64845b6fd90c5134 mb-1",children:[(0,i.jsx)("strong",{className:"jsx-64845b6fd90c5134",children:"D\xe9part :"})," ",u.departureStation," \xe0 ",S(u.departureTime)]}),(0,i.jsxs)("p",{className:"jsx-64845b6fd90c5134 mb-1",children:[(0,i.jsx)("strong",{className:"jsx-64845b6fd90c5134",children:"Arriv\xe9e :"})," ",u.arrivalStation," \xe0 ",S(u.arrivalTime)]}),(0,i.jsxs)("p",{className:"jsx-64845b6fd90c5134 mb-0",children:[(0,i.jsx)("strong",{className:"jsx-64845b6fd90c5134",children:"Jours de circulation :"})," ",(null==(e=u.joursCirculation)?void 0:e.join(", "))||"-"]})]}),(0,i.jsx)("div",{className:"jsx-64845b6fd90c5134 col-md-6",children:(0,i.jsx)("div",{className:"jsx-64845b6fd90c5134 train-visual-container",children:(0,i.jsx)(o.A,{trainNumber:u.trainNumber,composition:u.composition||[],visualHeight:150})})})]})})]}),(0,i.jsxs)("div",{className:"jsx-64845b6fd90c5134 card",children:[(0,i.jsx)("div",{className:"jsx-64845b6fd90c5134 card-header",children:(0,i.jsxs)("h3",{className:"jsx-64845b6fd90c5134 h5 mb-0",children:[(0,i.jsx)("i",{className:"jsx-64845b6fd90c5134 icons-route me-2"}),"Trajet et arr\xeats"]})}),(0,i.jsx)("div",{className:"jsx-64845b6fd90c5134 card-body p-0",children:(0,i.jsx)("div",{className:"jsx-64845b6fd90c5134 timeline",children:T().map((e,t,r)=>(0,i.jsxs)("div",{className:"jsx-64845b6fd90c5134 "+"timeline-item ".concat(t===r.length-1?"last":""),children:[(0,i.jsx)("div",{className:"jsx-64845b6fd90c5134 "+"timeline-marker ".concat(e.delay?"delayed":""),children:(null==v?void 0:v.type)==="at-station"&&v.index===t&&(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:_},className:"jsx-64845b6fd90c5134 train-icon"})}),(null==v?void 0:v.type)==="between-stations"&&v.fromIndex===t&&(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:_},style:{top:"50%",left:"4rem",transform:"translate(-50%, 2rem)"},className:"jsx-64845b6fd90c5134 train-icon between-stations"}),(0,i.jsx)("div",{className:"jsx-64845b6fd90c5134 timeline-content",children:(0,i.jsxs)("div",{className:"jsx-64845b6fd90c5134 row align-items-center",children:[(0,i.jsx)("div",{className:"jsx-64845b6fd90c5134 col-md-3",children:(0,i.jsx)("div",{className:"jsx-64845b6fd90c5134 time-badge",children:"departure"===e.type||"arrival"===e.type?(0,i.jsxs)("div",{className:"jsx-64845b6fd90c5134 "+((e.delay>0?"delayed-time":"")||""),children:[S(e.time),e.delay>0&&(0,i.jsxs)("span",{className:"jsx-64845b6fd90c5134 updated-time",children:["→ ",S((0,c.EU)(e.time,e.delay))]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"jsx-64845b6fd90c5134 "+((e.delay>0?"delayed-time":"")||""),children:[S(e.arrivalTime),e.delay>0&&(0,i.jsxs)("span",{className:"jsx-64845b6fd90c5134 updated-time",children:["→ ",S((0,c.EU)(e.arrivalTime,e.delay))]})]}),(0,i.jsxs)("div",{className:"jsx-64845b6fd90c5134 "+((e.delay>0?"delayed-time":"")||""),children:[S(e.departureTime),e.delay>0&&(0,i.jsxs)("span",{className:"jsx-64845b6fd90c5134 updated-time",children:["→ ",S((0,c.EU)(e.departureTime,e.delay))]})]})]})})}),(0,i.jsxs)("div",{className:"jsx-64845b6fd90c5134 col-md-6",children:[(0,i.jsxs)("h4",{className:"jsx-64845b6fd90c5134 "+"station-name ".concat("cancelled"===e.status?"cancelled":""),children:[e.station,"cancelled"===e.status&&(0,i.jsxs)("span",{className:"jsx-64845b6fd90c5134 cancelled-badge",children:[(0,i.jsx)("i",{className:"jsx-64845b6fd90c5134 icons-close"}),"Arr\xeat supprim\xe9"]})]}),e.voie&&(0,i.jsx)("div",{className:"jsx-64845b6fd90c5134 voie-info",children:(0,i.jsxs)("span",{className:"jsx-64845b6fd90c5134 voie-number",children:["Voie ",e.voie]})})]}),(0,i.jsx)("div",{className:"jsx-64845b6fd90c5134 col-md-3",children:(e.delay>0||e.status)&&(0,i.jsxs)("div",{className:"jsx-64845b6fd90c5134 "+"delay-badge ".concat("cancelled"===e.status?"cancelled":""),children:[(0,i.jsx)("i",{className:"jsx-64845b6fd90c5134 "+"icons-".concat("cancelled"===e.status?"close":"warning"," me-2")}),"cancelled"===e.status?"Train supprim\xe9":"Retard ".concat(e.delay," min")]})})]})})]},t))})})]})]})]})}),(0,i.jsx)(m.A,{})]}),(0,i.jsx)(s(),{id:"64845b6fd90c5134",children:'.mastheader.jsx-64845b6fd90c5134{background:var(--primary);padding:1rem;margin-bottom:2rem}.timeline.jsx-64845b6fd90c5134{position:relative;padding:0}.timeline.jsx-64845b6fd90c5134::before{content:"";position:absolute;left:4rem;top:2rem;bottom:2rem;width:4px;background:var(--primary);opacity:.2}.timeline-item.jsx-64845b6fd90c5134{position:relative;padding:1.5rem 1rem 1.5rem 5rem;border-bottom:1px solid var(--gray-200)}.timeline-item.last.jsx-64845b6fd90c5134{border-bottom:none}.timeline-marker.jsx-64845b6fd90c5134{position:absolute;left:4rem;top:50%;width:20px;height:20px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;background:var(--primary);border:3px solid#fff;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%);z-index:1;-webkit-transition:all.3s ease;-moz-transition:all.3s ease;-o-transition:all.3s ease;transition:all.3s ease}.timeline-marker.delayed.jsx-64845b6fd90c5134{background:var(--danger);-webkit-transform:translate(-50%,-50%)scale(1.2);-moz-transform:translate(-50%,-50%)scale(1.2);-ms-transform:translate(-50%,-50%)scale(1.2);-o-transform:translate(-50%,-50%)scale(1.2);transform:translate(-50%,-50%)scale(1.2)}.time-badge.jsx-64845b6fd90c5134{font-size:1.25rem;font-weight:600;color:var(--primary);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:.25rem}.delayed-time.jsx-64845b6fd90c5134{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:.5rem}.updated-time.jsx-64845b6fd90c5134{color:var(--warning);font-weight:700}.station-name.jsx-64845b6fd90c5134{font-size:1.1rem;margin:0;font-weight:600;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:1rem}.station-name.cancelled.jsx-64845b6fd90c5134{text-decoration:line-through;color:var(--danger)}.voie-info.jsx-64845b6fd90c5134{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin-top:.5rem;background:#E9ECEF;padding:4px 8px;-webkit-border-radius:16px;-moz-border-radius:16px;border-radius:16px;border:1px solid#DEE2E6}.voie-number.jsx-64845b6fd90c5134{font-weight:500;font-size:.875rem;color:#495057}.train-visual-container.jsx-64845b6fd90c5134{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;height:150px;position:relative;z-index:1}.card-body.jsx-64845b6fd90c5134{position:relative;overflow:visible}.delay-badge.jsx-64845b6fd90c5134{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background:var(--warning);color:white;padding:.25rem .75rem;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:.875rem}.delay-badge.cancelled.jsx-64845b6fd90c5134{background:var(--danger)}.train-icon.jsx-64845b6fd90c5134{position:absolute;width:24px;height:24px;color:#000;background-color:#bf0;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;z-index:2}.train-icon.between-stations.jsx-64845b6fd90c5134{position:absolute;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.train-icon.jsx-64845b6fd90c5134 svg.jsx-64845b6fd90c5134{width:20px;height:20px;fill:#000;color:#000}@media(max-width:768px){.timeline.jsx-64845b6fd90c5134::before{left:2rem}.timeline-item.jsx-64845b6fd90c5134{padding-left:3rem}.timeline-marker.jsx-64845b6fd90c5134{left:2rem}.time-badge.jsx-64845b6fd90c5134{font-size:1rem}.station-name.jsx-64845b6fd90c5134{font-size:1rem}}'})]})}},4250:(e,t,r)=>{"use strict";e.exports=r(8817).style},5364:(e,t,r)=>{"use strict";r.d(t,{$t:()=>o,Ag:()=>d,Cy:()=>c,EU:()=>a,Ix:()=>f,JS:()=>l,Kg:()=>b,Os:()=>i,TP:()=>u,oP:()=>m});let i=()=>JSON.parse(localStorage.getItem("schedules")||"[]"),n=e=>e&&e.trainNumber&&e.departureStation&&e.arrivalStation&&e.departureTime&&e.arrivalTime,s=e=>{let t;if(!e)return[];if("string"==typeof e)try{t=JSON.parse(e)}catch(e){return console.error("Failed to parse servedStations",e),[]}else t=e;return Array.isArray(t)?t.map(e=>"string"==typeof e?{name:e,arrivalTime:null,departureTime:null}:e).filter(e=>e&&e.name):[]},a=(e,t)=>{if(!e||!t)return e;let[r,i]=e.split(":").map(Number),n=60*r+i+t,s=Math.floor(n/60)%24;return"".concat(String(s).padStart(2,"0"),":").concat(String(n%60).padStart(2,"0"))},l=e=>e.isCancelled?{status:"cancelled",label:"Train supprim\xe9",className:"status-cancelled"}:e.delayMinutes?{status:"delayed",label:"Retard ".concat(e.delayMinutes," min"),className:"status-delayed",delayedTime:a(e.departureTime,e.delayMinutes)}:{status:"ontime",label:"\xc0 l'heure",className:"status-ontime"},o=e=>{try{if(!e)return[];return i().filter(n).filter(t=>t.departureStation===e||t.arrivalStation===e||s(t.servedStations).some(t=>t.name===e))}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration des horaires:",e),[]}},c=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"departure",i=!(arguments.length>3)||void 0===arguments[3]||arguments[3];if(!e||!t)return null;try{if("departure"===r){if(e.departureStation===t)return e.isCancelled?e.departureTime:i&&e.delayMinutes?a(e.departureTime,e.delayMinutes):e.departureTime;let r=s(e.servedStations).find(e=>e.name===t);if(!r)return null;return i&&e.delayMinutes&&r.departureTime?a(r.departureTime,e.delayMinutes):r.departureTime||null}{if(e.arrivalStation===t)return e.isCancelled?e.arrivalTime:i&&e.delayMinutes?a(e.arrivalTime,e.delayMinutes):e.arrivalTime;let r=s(e.servedStations).find(e=>e.name===t);if(!r)return null;return i&&e.delayMinutes&&r.arrivalTime?a(r.arrivalTime,e.delayMinutes):r.arrivalTime||null}}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration de l'heure:",e),null}},d=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"departures";if(!e||!t)return[];try{return e.filter(e=>!!n(e)&&("departures"===r?e.departureStation===t||s(e.servedStations).some(e=>e.name===t&&e.departureTime):e.arrivalStation===t||s(e.servedStations).some(e=>e.name===t&&e.arrivalTime)))}catch(e){return console.error("Erreur lors du filtrage des horaires:",e),[]}},m=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"departures";if(!e||!t)return"";try{if("departures"===r){if(e.departureStation===t)return e.arrivalStation;let r=s(e.servedStations),i=r.findIndex(e=>e.name===t);if(-1!==i&&i<r.length-1)return r[i+1].name;return e.arrivalStation}{if(e.arrivalStation===t)return e.departureStation;let r=s(e.servedStations),i=r.findIndex(e=>e.name===t);if(i>0)return r[i-1].name;return e.departureStation}}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration de la destination/provenance:",e),""}},u=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"departures";if(!e||!t)return[];try{return[...e].sort((e,i)=>{let n=c(e,t,"departures"===r?"departure":"arrival")||"",s=c(i,t,"departures"===r?"departure":"arrival")||"";return n.localeCompare(s)})}catch(t){return console.error("Erreur lors du tri des horaires:",t),e}},f=e=>{let t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=t.indexOf(e);return -1===r?null:t[(r+1)%t.length]},b=(e,t)=>e&&t?e.filter(e=>!e.joursCirculation||0===e.joursCirculation.length||e.joursCirculation.includes(t)):[]},6776:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/verification-trajets",function(){return r(4248)}])},7180:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var i=r(7876),n=r(4250),s=r.n(n),a=r(4232);function l(e){let{trainNumber:t,composition:r,visualHeight:n=300}=e,[l,o]=(0,a.useState)(0),[c,d]=(0,a.useState)(!0),m=(0,a.useCallback)(()=>{(null==r?void 0:r.length)>1&&o(e=>(e+1)%r.length)},[null==r?void 0:r.length]);return((0,a.useEffect)(()=>{let e;return c&&(null==r?void 0:r.length)>1&&(e=setInterval(m,3e3)),()=>{e&&clearInterval(e)}},[c,m,null==r?void 0:r.length]),r&&0!==r.length)?(0,i.jsxs)("div",{className:s().dynamic([["28eb7567fb6d119f",[n,100/r.length,100/r.length]]])+" train-visual-slider",children:[(0,i.jsxs)("div",{className:s().dynamic([["28eb7567fb6d119f",[n,100/r.length,100/r.length]]])+" train-visual-container",children:[r.length>1&&(0,i.jsx)("button",{onClick:()=>{d(!1),o(e=>0===e?r.length-1:e-1)},className:s().dynamic([["28eb7567fb6d119f",[n,100/r.length,100/r.length]]])+" nav-arrow prev",children:"←"}),(0,i.jsx)("div",{className:s().dynamic([["28eb7567fb6d119f",[n,100/r.length,100/r.length]]])+" train-visual-wrapper",children:(0,i.jsx)("div",{style:{transform:"translateX(-".concat(l*(100/r.length),"%)"),width:"".concat(100*r.length,"%")},className:s().dynamic([["28eb7567fb6d119f",[n,100/r.length,100/r.length]]])+" train-composition",children:r.map((e,a)=>(0,i.jsxs)("div",{className:s().dynamic([["28eb7567fb6d119f",[n,100/r.length,100/r.length]]])+" train-unit",children:[(0,i.jsx)("img",{src:e.imageData,alt:"Train ".concat(t," - Unit\xe9 ").concat(a+1),onError:e=>{e.target.onerror=null,e.target.src="/images/train-placeholder.png"},className:s().dynamic([["28eb7567fb6d119f",[n,100/r.length,100/r.length]]])+" train-visual-image"}),(0,i.jsxs)("div",{className:s().dynamic([["28eb7567fb6d119f",[n,100/r.length,100/r.length]]])+" train-info-overlay",children:[(0,i.jsxs)("div",{className:s().dynamic([["28eb7567fb6d119f",[n,100/r.length,100/r.length]]])+" train-name",children:["Train ",t," - Unit\xe9 ",a+1]}),(0,i.jsxs)("div",{className:s().dynamic([["28eb7567fb6d119f",[n,100/r.length,100/r.length]]])+" materiel-info",children:[(0,i.jsx)("span",{className:s().dynamic([["28eb7567fb6d119f",[n,100/r.length,100/r.length]]])+" materiel-name",children:e.name}),(0,i.jsx)("span",{className:s().dynamic([["28eb7567fb6d119f",[n,100/r.length,100/r.length]]])+" materiel-type",children:e.type})]})]})]},a))})}),r.length>1&&(0,i.jsx)("button",{onClick:()=>{d(!1),m()},className:s().dynamic([["28eb7567fb6d119f",[n,100/r.length,100/r.length]]])+" nav-arrow next",children:"→"}),r.length>1&&(0,i.jsx)("div",{className:s().dynamic([["28eb7567fb6d119f",[n,100/r.length,100/r.length]]])+" slider-indicators",children:r.map((e,t)=>(0,i.jsx)("button",{onClick:()=>{d(!1),o(t)},className:s().dynamic([["28eb7567fb6d119f",[n,100/r.length,100/r.length]]])+" "+"indicator ".concat(t===l?"active":"")},t))})]}),(0,i.jsx)(s(),{id:"28eb7567fb6d119f",dynamic:[n,100/r.length,100/r.length],children:".train-visual-slider.__jsx-style-dynamic-selector{position:relative;width:100%;max-width:800px;margin:0 auto;background:#fff;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;overflow:hidden}.train-visual-container.__jsx-style-dynamic-selector{position:relative;width:100%;height:".concat(n,"px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.train-visual-wrapper.__jsx-style-dynamic-selector{position:relative;width:100%;height:100%;overflow:hidden}.train-composition.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;height:100%;-webkit-transition:-webkit-transform.5s ease;-moz-transition:-moz-transform.5s ease;-o-transition:-o-transform.5s ease;transition:-webkit-transform.5s ease;transition:-moz-transform.5s ease;transition:-o-transform.5s ease;transition:transform.5s ease}.train-unit.__jsx-style-dynamic-selector{position:relative;-webkit-box-flex:0;-webkit-flex:0 0 ").concat(100/r.length,"%;-moz-box-flex:0;-ms-flex:0 0 ").concat(100/r.length,"%;flex:0 0 ").concat(100/r.length,"%;width:").concat(100/r.length,"%;height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.train-visual-image.__jsx-style-dynamic-selector{height:80%;width:auto;max-width:90%;-o-object-fit:contain;object-fit:contain}.train-info-overlay.__jsx-style-dynamic-selector{position:absolute;bottom:0;left:0;right:0;background:rgba(0,0,102,.8);color:white;padding:.75rem}.train-name.__jsx-style-dynamic-selector{font-weight:600;font-size:1.1rem;margin-bottom:.25rem}.materiel-info.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;font-size:.9rem;opacity:.9}.nav-arrow.__jsx-style-dynamic-selector{position:absolute;top:50%;-webkit-transform:translatey(-50%);-moz-transform:translatey(-50%);-ms-transform:translatey(-50%);-o-transform:translatey(-50%);transform:translatey(-50%);z-index:2;background:none;border:none;color:black;font-size:24px;cursor:pointer;padding:10px;-webkit-transition:opacity.2s;-moz-transition:opacity.2s;-o-transition:opacity.2s;transition:opacity.2s}.nav-arrow.__jsx-style-dynamic-selector:hover{opacity:.7}.nav-arrow.prev.__jsx-style-dynamic-selector{left:0}.nav-arrow.next.__jsx-style-dynamic-selector{right:0}.slider-indicators.__jsx-style-dynamic-selector{position:absolute;bottom:60px;left:0;right:0;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:8px;z-index:3}.indicator.__jsx-style-dynamic-selector{width:8px;height:8px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;background:rgba(255,255,255,.5);border:none;padding:0;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.indicator.active.__jsx-style-dynamic-selector{background:white;-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-ms-transform:scale(1.2);-o-transform:scale(1.2);transform:scale(1.2)}.train-visual-placeholder.__jsx-style-dynamic-selector{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#f8f9fa;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;color:#666}.train-visual-placeholder.__jsx-style-dynamic-selector .material-icons.__jsx-style-dynamic-selector{font-size:48px;margin-bottom:1rem;color:#006}@media(max-width:768px){.nav-button.__jsx-style-dynamic-selector{width:32px;height:32px}.train-info-overlay.__jsx-style-dynamic-selector{padding:.5rem}.train-name.__jsx-style-dynamic-selector{font-size:1rem}.materiel-info.__jsx-style-dynamic-selector{font-size:.8rem}}")})]}):(0,i.jsxs)("div",{className:"train-visual-placeholder",style:{height:n},children:[(0,i.jsx)("span",{className:"material-icons",children:"train"}),(0,i.jsxs)("p",{children:["Composition non d\xe9finie pour le train ",t]})]})}},8817:(e,t,r)=>{"use strict";var i=r(9742);r(2552);var n=r(4232),s=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(n),a=void 0!==i&&i.env&&!0,l=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var t=void 0===e?{}:e,r=t.name,i=void 0===r?"stylesheet":r,n=t.optimizeForSpeed,s=void 0===n?a:n;c(l(i),"`name` must be a string"),this._name=i,this._deletedRulePlaceholder="#"+i+"-deleted-rule____{}",c("boolean"==typeof s,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=s,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var o=document.querySelector('meta[property="csp-nonce"]');this._nonce=o?o.getAttribute("content"):null}var t,r=e.prototype;return r.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},r.isOptimizeForSpeed=function(){return this._optimizeForSpeed},r.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(a||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,r){return"number"==typeof r?e._serverSheet.cssRules[r]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),r},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},r.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},r.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},r.insertRule=function(e,t){if(c(l(e),"`insertRule` accepts only strings"),this._optimizeForSpeed){var r=this.getSheet();"number"!=typeof t&&(t=r.cssRules.length);try{r.insertRule(e,t)}catch(t){return a||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var i=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,i))}return this._rulesCount++},r.replaceRule=function(e,t){if(this._optimizeForSpeed){var r=this.getSheet();if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(i){a||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),r.insertRule(this._deletedRulePlaceholder,e)}}else{var i=this._tags[e];c(i,"old rule at index `"+e+"` not found"),i.textContent=t}return e},r.deleteRule=function(e){if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},r.flush=function(){this._injected=!1,this._rulesCount=0,this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]},r.cssRules=function(){var e=this;return this._tags.reduce(function(t,r){return r?t=t.concat(Array.prototype.map.call(e.getSheetForTag(r).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},r.makeStyleTag=function(e,t,r){t&&c(l(t),"makeStyleTag accepts only strings as second parameter");var i=document.createElement("style");this._nonce&&i.setAttribute("nonce",this._nonce),i.type="text/css",i.setAttribute("data-"+e,""),t&&i.appendChild(document.createTextNode(t));var n=document.head||document.getElementsByTagName("head")[0];return r?n.insertBefore(i,r):n.appendChild(i),i},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0},m={};function u(e,t){if(!t)return"jsx-"+e;var r=String(t),i=e+r;return m[i]||(m[i]="jsx-"+d(e+"-"+r)),m[i]}function f(e,t){var r=e+t;return m[r]||(m[r]=t.replace(/__jsx-style-dynamic-selector/g,e)),m[r]}var b=function(){function e(e){var t=void 0===e?{}:e,r=t.styleSheet,i=void 0===r?null:r,n=t.optimizeForSpeed,s=void 0!==n&&n;this._sheet=i||new o({name:"styled-jsx",optimizeForSpeed:s}),this._sheet.inject(),i&&"boolean"==typeof s&&(this._sheet.setOptimizeForSpeed(s),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var r=this.getIdAndRules(e),i=r.styleId,n=r.rules;if(i in this._instancesCounts){this._instancesCounts[i]+=1;return}var s=n.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[i]=s,this._instancesCounts[i]=1},t.remove=function(e){var t=this,r=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(r in this._instancesCounts,"styleId: `"+r+"` not found"),this._instancesCounts[r]-=1,this._instancesCounts[r]<1){var i=this._fromServer&&this._fromServer[r];i?(i.parentNode.removeChild(i),delete this._fromServer[r]):(this._indices[r].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[r]),delete this._instancesCounts[r]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],r=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return r[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,r;return t=this.cssRules(),void 0===(r=e)&&(r={}),t.map(function(e){var t=e[0],i=e[1];return s.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:r.nonce?r.nonce:void 0,dangerouslySetInnerHTML:{__html:i}})})},t.getIdAndRules=function(e){var t=e.children,r=e.dynamic,i=e.id;if(r){var n=u(i,r);return{styleId:n,rules:Array.isArray(t)?t.map(function(e){return f(n,e)}):[f(n,t)]}}return{styleId:u(i),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),p=n.createContext(null);p.displayName="StyleSheetContext";var h=s.default.useInsertionEffect||s.default.useLayoutEffect,x=new b;function y(e){var t=x||n.useContext(p);return t&&h(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)]),null}y.dynamic=function(e){return e.map(function(e){return u(e[0],e[1])}).join(" ")},t.style=y}},e=>{var t=t=>e(e.s=t);e.O(0,[8585,8230,4587,327,636,6593,8792],()=>t(6776)),_N_E=e.O()}]);