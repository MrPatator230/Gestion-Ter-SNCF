(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8706],{207:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});var r=a(7876),t=a(5448);a(7328);var i=a(6790);function n(e){let{children:s,darkMode:a,toggleDarkMode:n}=e;return(0,r.jsxs)("div",{className:"main-wrapper d-flex flex-column min-vh-100",children:[(0,r.jsx)(t.A,{darkMode:a,toggleDarkMode:n}),(0,r.jsx)("main",{className:"main-container flex-grow-1",children:(0,r.jsx)("div",{className:"container-fluid",children:s})}),(0,r.jsx)(i.A,{})]})}},2700:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/horaires-par-gare/station.new",function(){return a(9253)}])},3874:(e,s,a)=>{"use strict";a.d(s,{A:()=>d});var r=a(7876),t=a(4250),i=a.n(t),n=a(4232),c=a(9099);let o=()=>JSON.parse(localStorage.getItem("stations")||"[]");function d(e){let{searchQuery:s,setSearchQuery:a}=e,[t,d]=(0,n.useState)([]),[l,b]=(0,n.useState)(!1),[x,m]=(0,n.useState)(-1),u=(0,c.useRouter)(),j=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=e=>{j.current&&!j.current.contains(e.target)&&b(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let f=e=>{a(e),b(!1),u.push("/horaires-par-gare/".concat(encodeURIComponent(e)))};return(0,r.jsxs)("div",{ref:j,className:"jsx-9c78709bb41de5fc station-search",children:[(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s&&u.push("/horaires-par-gare/".concat(encodeURIComponent(s)))},className:"jsx-9c78709bb41de5fc d-flex align-items-center",children:[(0,r.jsxs)("div",{className:"jsx-9c78709bb41de5fc form-control-container w-100",children:[(0,r.jsx)("label",{htmlFor:"station",className:"jsx-9c78709bb41de5fc form-label",children:"Rechercher une gare"}),(0,r.jsxs)("div",{className:"jsx-9c78709bb41de5fc input-group",children:[(0,r.jsx)("div",{className:"jsx-9c78709bb41de5fc input-group-prepend",children:(0,r.jsx)("span",{className:"jsx-9c78709bb41de5fc input-group-text",children:(0,r.jsx)("i",{"aria-hidden":"true",className:"jsx-9c78709bb41de5fc icons-search"})})}),(0,r.jsx)("input",{type:"text",id:"station",value:s,onChange:e=>{let s=e.target.value;a(s),s.length>=2?(d(o().filter(e=>e.name.toLowerCase().includes(s.toLowerCase())).slice(0,5)),b(!0)):(d([]),b(!1)),m(-1)},onKeyDown:e=>{"ArrowDown"===e.key?(e.preventDefault(),m(e=>e<t.length-1?e+1:e)):"ArrowUp"===e.key?(e.preventDefault(),m(e=>e>0?e-1:e)):"Enter"===e.key&&x>=0&&(e.preventDefault(),f(t[x].name))},placeholder:"Saisissez le nom d'une gare...",autoComplete:"off","aria-label":"Rechercher une gare",className:"jsx-9c78709bb41de5fc form-control"})]}),l&&t.length>0&&(0,r.jsx)("div",{className:"jsx-9c78709bb41de5fc suggestions-container",children:(0,r.jsx)("div",{className:"jsx-9c78709bb41de5fc list-group",children:t.map((e,s)=>(0,r.jsxs)("button",{type:"button",onClick:()=>f(e.name),className:"jsx-9c78709bb41de5fc "+"list-group-item list-group-item-action ".concat(s===x?"active":""),children:[(0,r.jsx)("i",{"aria-hidden":"true",className:"jsx-9c78709bb41de5fc icons-station icons-size-1x5 mr-2"}),e.name,e.categories&&e.categories.length>0&&(0,r.jsx)("div",{className:"jsx-9c78709bb41de5fc station-categories",children:e.categories.map(e=>(0,r.jsx)("span",{className:"jsx-9c78709bb41de5fc badge badge-light ml-1",children:e},e))})]},e.name))})})]}),(0,r.jsxs)("button",{type:"submit",className:"jsx-9c78709bb41de5fc btn btn-primary ml-3",children:[(0,r.jsx)("i",{"aria-hidden":"true",className:"jsx-9c78709bb41de5fc icons-search icons-size-1x5"}),(0,r.jsx)("span",{className:"jsx-9c78709bb41de5fc ml-2",children:"Rechercher"})]})]}),(0,r.jsx)(i(),{id:"9c78709bb41de5fc",children:".station-search.jsx-9c78709bb41de5fc{position:relative;width:100%;max-width:600px;margin:0 auto}.suggestions-container.jsx-9c78709bb41de5fc{position:absolute;top:100%;left:0;right:0;z-index:1000;margin-top:.5rem;background:white;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.1);-moz-box-shadow:0 2px 4px rgba(0,0,0,.1);box-shadow:0 2px 4px rgba(0,0,0,.1)}.list-group-item.jsx-9c78709bb41de5fc{border-left:none;border-right:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:.75rem 1rem}.list-group-item.jsx-9c78709bb41de5fc:first-child{-webkit-border-top-left-radius:4px;-moz-border-radius-topleft:4px;border-top-left-radius:4px;-webkit-border-top-right-radius:4px;-moz-border-radius-topright:4px;border-top-right-radius:4px}.list-group-item.jsx-9c78709bb41de5fc:last-child{-webkit-border-bottom-left-radius:4px;-moz-border-radius-bottomleft:4px;border-bottom-left-radius:4px;-webkit-border-bottom-right-radius:4px;-moz-border-radius-bottomright:4px;border-bottom-right-radius:4px}.list-group-item.active.jsx-9c78709bb41de5fc{background-color:#f8f9fa;border-color:#ddd;color:#000}.input-group-text.jsx-9c78709bb41de5fc{background-color:white;border-right:none}.form-control.jsx-9c78709bb41de5fc{border-left:none}.form-control.jsx-9c78709bb41de5fc:focus{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;border-color:#ddd}.input-group-text.jsx-9c78709bb41de5fc i.jsx-9c78709bb41de5fc{color:#666}.station-categories.jsx-9c78709bb41de5fc{margin-left:auto;font-size:.875rem}.badge.jsx-9c78709bb41de5fc{font-weight:normal}.icons-size-1x5.jsx-9c78709bb41de5fc{font-size:1.5rem;vertical-align:middle}"})]})}},9253:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>l});var r=a(7876),t=a(4250),i=a.n(t),n=a(4232),c=a(9099),o=a(207),d=a(3874);function l(){let{station:e}=(0,c.useRouter)().query,[s,a]=(0,n.useState)("departures"),[t,l]=(0,n.useState)([]),[b,x]=(0,n.useState)(!0),[m,u]=(0,n.useState)(null);(0,n.useEffect)(()=>{e&&(l(JSON.parse(localStorage.getItem("schedules")||"[]").filter(s=>{var a;return s.departureStation===decodeURIComponent(e)||s.arrivalStation===decodeURIComponent(e)||(null==(a=s.servedStations)?void 0:a.some(s=>"object"==typeof s?s.name===decodeURIComponent(e):s===decodeURIComponent(e)))})),x(!1))},[e]);let j=t.filter(a=>{var r,t;let i=decodeURIComponent(e);return"departures"===s?a.departureStation===i||(null==(r=a.servedStations)?void 0:r.some(e=>"object"==typeof e?e.name===i&&e.departureTime:e===i)):a.arrivalStation===i||(null==(t=a.servedStations)?void 0:t.some(e=>"object"==typeof e?e.name===i&&e.arrivalTime:e===i))}),f=e=>"\xc0 l'heure"===e?"text-success":(null==e?void 0:e.includes("Retard"))?"text-warning":"text-success",p=a=>{var r,t;let i=decodeURIComponent(e);if("departures"===s){if(a.departureStation===i)return a.departureTime;let e=null==(r=a.servedStations)?void 0:r.find(e=>"object"==typeof e?e.name===i:e===i);return"object"==typeof e?e.departureTime:a.departureTime}{if(a.arrivalStation===i)return a.arrivalTime;let e=null==(t=a.servedStations)?void 0:t.find(e=>"object"==typeof e?e.name===i:e===i);return"object"==typeof e?e.arrivalTime:a.arrivalTime}},h=e=>"departures"===s?e.arrivalStation:e.departureStation;return e?(0,r.jsxs)(o.A,{children:[(0,r.jsx)("div",{className:"jsx-45420b94e2f209a1 container-fluid",children:(0,r.jsx)("div",{className:"jsx-45420b94e2f209a1 row",children:(0,r.jsxs)("div",{className:"jsx-45420b94e2f209a1 col-12",children:[(0,r.jsxs)("nav",{className:"jsx-45420b94e2f209a1 breadcrumb bg-transparent",children:[(0,r.jsx)("span",{className:"jsx-45420b94e2f209a1 breadcrumb-item",children:(0,r.jsx)("i",{"aria-hidden":"true",className:"jsx-45420b94e2f209a1 icons-home icons-size-1x5"})}),(0,r.jsx)("a",{href:"/horaires-par-gare",className:"jsx-45420b94e2f209a1 breadcrumb-item",children:"Horaires par gare"}),(0,r.jsx)("span",{className:"jsx-45420b94e2f209a1 breadcrumb-item active",children:decodeURIComponent(e)})]}),(0,r.jsx)("div",{className:"jsx-45420b94e2f209a1 card border-0 shadow-sm mb-4",children:(0,r.jsx)("div",{className:"jsx-45420b94e2f209a1 card-body",children:(0,r.jsx)(d.A,{})})}),(0,r.jsxs)("div",{className:"jsx-45420b94e2f209a1 card border-0 shadow-sm",children:[(0,r.jsx)("div",{className:"jsx-45420b94e2f209a1 card-header bg-light",children:(0,r.jsxs)("div",{className:"jsx-45420b94e2f209a1 d-flex justify-content-between align-items-center",children:[(0,r.jsxs)("h1",{className:"jsx-45420b94e2f209a1 h4 mb-0",children:[(0,r.jsx)("i",{"aria-hidden":"true",className:"jsx-45420b94e2f209a1 icons-station icons-size-1x5 mr-2"}),"Horaires ","departures"===s?"des d\xe9parts":"des arriv\xe9es"," - ",decodeURIComponent(e)]}),(0,r.jsxs)("div",{role:"group",className:"jsx-45420b94e2f209a1 btn-group",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>a("departures"),className:"jsx-45420b94e2f209a1 "+"btn ".concat("departures"===s?"btn-primary":"btn-secondary"),children:[(0,r.jsx)("i",{"aria-hidden":"true",className:"jsx-45420b94e2f209a1 icons-clock-forward mr-2"}),"D\xe9parts"]}),(0,r.jsxs)("button",{type:"button",onClick:()=>a("arrivals"),className:"jsx-45420b94e2f209a1 "+"btn ".concat("arrivals"===s?"btn-primary":"btn-secondary"),children:[(0,r.jsx)("i",{"aria-hidden":"true",className:"jsx-45420b94e2f209a1 icons-clock-back mr-2"}),"Arriv\xe9es"]})]})]})}),(0,r.jsx)("div",{className:"jsx-45420b94e2f209a1 card-body p-0",children:b?(0,r.jsx)("div",{className:"jsx-45420b94e2f209a1 text-center p-4",children:(0,r.jsx)("div",{role:"status",className:"jsx-45420b94e2f209a1 spinner-border text-primary",children:(0,r.jsx)("span",{className:"jsx-45420b94e2f209a1 sr-only",children:"Chargement..."})})}):m?(0,r.jsx)("div",{role:"alert",className:"jsx-45420b94e2f209a1 alert alert-danger m-3",children:m}):(0,r.jsx)("div",{className:"jsx-45420b94e2f209a1 table-responsive",children:(0,r.jsxs)("table",{className:"jsx-45420b94e2f209a1 table table-hover mb-0",children:[(0,r.jsx)("thead",{className:"jsx-45420b94e2f209a1",children:(0,r.jsxs)("tr",{className:"jsx-45420b94e2f209a1",children:[(0,r.jsx)("th",{className:"jsx-45420b94e2f209a1",children:"Heure"}),(0,r.jsx)("th",{className:"jsx-45420b94e2f209a1",children:"departures"===s?"Destination":"Provenance"}),(0,r.jsx)("th",{className:"jsx-45420b94e2f209a1",children:"Train"}),(0,r.jsx)("th",{className:"jsx-45420b94e2f209a1",children:"Type"}),(0,r.jsx)("th",{className:"jsx-45420b94e2f209a1",children:"Jours"}),(0,r.jsx)("th",{className:"jsx-45420b94e2f209a1",children:"Statut"})]})}),(0,r.jsx)("tbody",{className:"jsx-45420b94e2f209a1",children:0===j.length?(0,r.jsx)("tr",{className:"jsx-45420b94e2f209a1",children:(0,r.jsx)("td",{colSpan:"6",className:"jsx-45420b94e2f209a1 text-center py-4",children:"Aucun horaire trouv\xe9 pour cette gare"})}):j.map(e=>{var s;return(0,r.jsxs)("tr",{className:"jsx-45420b94e2f209a1",children:[(0,r.jsx)("td",{className:"jsx-45420b94e2f209a1 font-weight-bold",children:p(e)}),(0,r.jsx)("td",{className:"jsx-45420b94e2f209a1",children:h(e)}),(0,r.jsx)("td",{className:"jsx-45420b94e2f209a1",children:e.trainNumber}),(0,r.jsx)("td",{className:"jsx-45420b94e2f209a1",children:(0,r.jsx)("span",{className:"jsx-45420b94e2f209a1 badge badge-primary",children:e.trainType})}),(0,r.jsx)("td",{className:"jsx-45420b94e2f209a1",children:(0,r.jsx)("small",{className:"jsx-45420b94e2f209a1",children:(null==(s=e.joursCirculation)?void 0:s.join(", "))||"Tous les jours"})}),(0,r.jsx)("td",{className:"jsx-45420b94e2f209a1",children:(0,r.jsxs)("span",{className:"jsx-45420b94e2f209a1 "+(f(e.status)||""),children:[(0,r.jsx)("i",{"aria-hidden":"true",className:"jsx-45420b94e2f209a1 icons-check mr-1"}),"\xc0 l'heure"]})})]},e.id)})})]})})})]})]})})}),(0,r.jsx)(i(),{id:"45420b94e2f209a1",children:".card.jsx-45420b94e2f209a1{-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px}.table.jsx-45420b94e2f209a1 th.jsx-45420b94e2f209a1{border-top:none;background-color:#f8f9fa}.badge.jsx-45420b94e2f209a1{font-size:.875rem;padding:.5em .75em}.icons-size-1x5.jsx-45420b94e2f209a1{font-size:1.5rem;vertical-align:middle}.breadcrumb.jsx-45420b94e2f209a1{padding:1rem 0}.btn-group.jsx-45420b94e2f209a1 .btn.jsx-45420b94e2f209a1{padding:.5rem 1rem}.badge-primary.jsx-45420b94e2f209a1{background-color:#00a1e5}"})]}):null}}},e=>{var s=s=>e(e.s=s);e.O(0,[8585,8230,4587,1843,327,636,6593,8792],()=>s(2700)),_N_E=e.O()}]);