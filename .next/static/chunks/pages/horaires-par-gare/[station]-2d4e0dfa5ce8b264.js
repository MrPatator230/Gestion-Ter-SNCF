(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4644],{207:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});var n=t(7876),i=t(5448);t(7328);var a=t(6790);function s(e){let{children:r,darkMode:t,toggleDarkMode:s}=e;return(0,n.jsxs)("div",{className:"main-wrapper d-flex flex-column min-vh-100",children:[(0,n.jsx)(i.A,{darkMode:t,toggleDarkMode:s}),(0,n.jsx)("main",{className:"main-container flex-grow-1",children:(0,n.jsx)("div",{className:"container-fluid",children:r})}),(0,n.jsx)(a.A,{})]})}},2127:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var n=t(7876),i=t(4232),a=t(9099),s=t(207);let l=e=>{if(!e)return"";let[r,t]=e.split(":");return"".concat(r,":").concat(t)};function c(){let{station:e}=(0,a.useRouter)().query,[r,t]=(0,i.useState)([]),[c,o]=(0,i.useState)([]),[d,u]=(0,i.useState)(!1),[h,p]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async()=>{if(e){u(!0),p(null);try{let r=await fetch("/api/schedules/by-station?station=".concat(encodeURIComponent(e)));if(!r.ok)throw Error("Failed to fetch schedules");let n=await r.json(),i=e=>null==e?void 0:e.trim().toLowerCase(),a=i(e),s=n.filter(e=>i(e.departureStation)===a||Array.isArray(e.servedStations)&&e.servedStations.some(e=>i(e.name)===a&&e.departureTime)),l=n.filter(e=>i(e.arrivalStation)===a||Array.isArray(e.servedStations)&&e.servedStations.some(e=>i(e.name)===a&&e.arrivalTime));t(s),o(l)}catch(e){p(e.message),t([]),o([])}finally{u(!1)}}})()},[e]),(0,n.jsx)(s.A,{children:(0,n.jsxs)("div",{className:"container py-4",children:[(0,n.jsxs)("h1",{children:["Horaires pour la gare: ",e]}),d&&(0,n.jsx)("p",{children:"Chargement des horaires..."}),h&&(0,n.jsxs)("p",{className:"text-danger",children:["Erreur: ",h]}),!d&&!h&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{children:"D\xe9parts"}),0===r.length?(0,n.jsx)("p",{children:"Aucun d\xe9part trouv\xe9 pour cette gare."}):(0,n.jsxs)("table",{className:"table table-striped mb-4",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Heure"}),(0,n.jsx)("th",{children:"Train"}),(0,n.jsx)("th",{children:"Destination"}),(0,n.jsx)("th",{children:"Voie"}),(0,n.jsx)("th",{children:"Statut"})]})}),(0,n.jsx)("tbody",{children:r.map(r=>{let t=e=>null==e?void 0:e.trim().toLowerCase(),i=t(e),a=r.departureTime;if(t(r.departureStation)!==i&&Array.isArray(r.servedStations)){let e=r.servedStations.find(e=>t(e.name)===i);e&&e.departureTime&&(a=e.departureTime)}let s=r.arrivalStation,c=r.isCancelled?"Supprim\xe9":r.delayMinutes?"Retard ".concat(r.delayMinutes," min"):"\xc0 l'heure";return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:l(a)||"-"}),(0,n.jsx)("td",{children:r.trainNumber}),(0,n.jsx)("td",{children:s}),(0,n.jsx)("td",{children:r.track||"-"}),(0,n.jsx)("td",{children:c})]},r.id)})})]}),(0,n.jsx)("h2",{children:"Arriv\xe9es"}),0===c.length?(0,n.jsx)("p",{children:"Aucune arriv\xe9e trouv\xe9e pour cette gare."}):(0,n.jsxs)("table",{className:"table table-striped",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Heure"}),(0,n.jsx)("th",{children:"Train"}),(0,n.jsx)("th",{children:"Provenance"}),(0,n.jsx)("th",{children:"Voie"}),(0,n.jsx)("th",{children:"Statut"})]})}),(0,n.jsx)("tbody",{children:c.map(r=>{let t=e=>null==e?void 0:e.trim().toLowerCase(),i=t(e),a=r.arrivalTime;if(t(r.arrivalStation)!==i&&Array.isArray(r.servedStations)){let e=r.servedStations.find(e=>t(e.name)===i);e&&e.arrivalTime&&(a=e.arrivalTime)}let s=r.departureStation,c=r.isCancelled?"Supprim\xe9":r.delayMinutes?"Retard ".concat(r.delayMinutes," min"):"\xc0 l'heure";return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:l(a)||"-"}),(0,n.jsx)("td",{children:r.trainNumber}),(0,n.jsx)("td",{children:s}),(0,n.jsx)("td",{children:r.track||"-"}),(0,n.jsx)("td",{children:c})]},r.id)})})]})]})]})})}},3620:(e,r,t)=>{"use strict";t.d(r,{k5:()=>d});var n=t(4232),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=n.createContext&&n.createContext(i),s=["attr","size","title"];function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach(function(r){var n,i,a;n=e,i=r,a=t[r],(i=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function d(e){return r=>n.createElement(u,l({attr:o({},e.attr)},r),function e(r){return r&&r.map((r,t)=>n.createElement(r.tag,o({key:t},r.attr),e(r.child)))}(e.child))}function u(e){var r=r=>{var t,{attr:i,size:a,title:c}=e,d=function(e,r){if(null==e)return{};var t,n,i=function(e,r){if(null==e)return{};var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(e,s),u=a||r.size||"1em";return r.className&&(t=r.className),e.className&&(t=(t?t+" ":"")+e.className),n.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,d,{className:t,style:o(o({color:e.color||r.color},r.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),c&&n.createElement("title",null,c),e.children)};return void 0!==a?n.createElement(a.Consumer,null,e=>r(e)):r(i)}},8692:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/horaires-par-gare/[station]",function(){return t(2127)}])}},e=>{var r=r=>e(e.s=r);e.O(0,[8585,8230,4587,327,636,6593,8792],()=>r(8692)),_N_E=e.O()}]);