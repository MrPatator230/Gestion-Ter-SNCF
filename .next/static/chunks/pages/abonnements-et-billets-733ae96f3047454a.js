(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8218],{3390:e=>{e.exports={auraTheme:"operatorColors_auraTheme__d_Qhq",bretagneTheme:"operatorColors_bretagneTheme__z_kxX",centreTheme:"operatorColors_centreTheme__YwafM",grandEstTheme:"operatorColors_grandEstTheme___Hfnp",hdfTheme:"operatorColors_hdfTheme__8vks2",mobigoTheme:"operatorColors_mobigoTheme___hcsh",normandieTheme:"operatorColors_normandieTheme__CffTl",nouvelleAquitaineTheme:"operatorColors_nouvelleAquitaineTheme__gN9v3",occitanieTheme:"operatorColors_occitanieTheme__Pm9nM",pacaTheme:"operatorColors_pacaTheme__Z9abg",pddlTheme:"operatorColors_pddlTheme__8Dszb"}},4700:(e,l,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/abonnements-et-billets",function(){return a(9507)}])},5448:(e,l,a)=>{"use strict";a.d(l,{A:()=>p});var s=a(7876),r=a(8230),i=a.n(r),n=a(4587),t=a.n(n),c=a(9099),o=a(4232),d=a(4613),h=a(2507),m=a(3390),x=a.n(m);function p(){let e=(0,c.useRouter)().pathname,{user:l}=(0,o.useContext)(d.c)||{},{logoUrl:a,appName:r}=(0,o.useContext)(h.l)||{},[n,m]=(0,o.useState)(!1),p=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i(),{href:"/",className:"nav-link ".concat("/"===e?"active":""),onClick:()=>m(!1),children:"Accueil"}),(0,s.jsxs)(i(),{href:"/verifier-horaires",className:"nav-link ".concat("/verifier-horaires"===e?"active":""),onClick:()=>m(!1),children:[(0,s.jsx)("span",{className:"material-icons me-1",children:"search"}),"V\xe9rifier Horaires"]}),(0,s.jsx)(i(),{href:"/actualites",className:"nav-link ".concat("/actualites"===e?"active":""),onClick:()=>m(!1),children:"Actualit\xe9s"}),(0,s.jsx)(i(),{href:"/abonnements-et-billets",className:"nav-link ".concat("/abonnements-et-billets"===e?"active":""),onClick:()=>m(!1),children:"Abonnements & Billets"}),(0,s.jsx)(i(),{href:"/horaires-par-gare",className:"nav-link ".concat("/horaires-par-gare"===e?"active":""),onClick:()=>m(!1),children:"Horaires par gare"}),(0,s.jsx)(i(),{href:"/FH",className:"nav-link ".concat("/FH"===e?"active":""),onClick:()=>m(!1),children:"Fiches Horaires"})]});return(0,s.jsxs)("header",{className:"mastheader bg-white shadow-sm ".concat((e=>{var l;if(!e)return"";let a=null==(l=e.split("logo-ter-")[1])?void 0:l.split(".")[0];return a?x()["".concat(a,"Theme")]:""})(a)),style:{fontFamily:"'SNCF', Arial, sans-serif"},children:[(0,s.jsx)("link",{rel:"icon",href:"../favicon.ico"}),(0,s.jsx)("div",{className:"container-fluid",children:(0,s.jsxs)("div",{className:"d-flex align-items-center py-2",children:[(0,s.jsx)(i(),{href:"/",className:"me-4","aria-label":r||"SNCF",children:(0,s.jsx)(t(),{src:a||"/images/sncf-logo.png",alt:r||"Logo",width:300,height:84,priority:!0})}),(0,s.jsx)("nav",{className:"nav flex-grow-1 d-none d-md-flex",children:p}),(0,s.jsx)("div",{className:"d-md-none me-3",children:(0,s.jsxs)("button",{className:"btn btn-outline-primary",onClick:()=>{m(!n)},"aria-label":"Toggle menu",children:[(0,s.jsx)("span",{className:"material-icons",children:n?"close":"menu"}),(0,s.jsx)("span",{className:"ms-1",children:"Menu"})]})}),(0,s.jsxs)("div",{className:"d-flex align-items-center d-none d-md-flex",children:[(0,s.jsxs)(i(),{href:"/client/reservations",className:"header-icon-link","aria-label":"Commande",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"var(--primary-color)",width:"24","aria-hidden":"true",focusable:"false",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M18.581 1.705l1.185 1.186c-.006.006-.015.006-.022.013-.143.143-.16.392-.015.534l2.258 2.265c.142.14.391.125.533-.018.008-.006.01-.014.014-.02l1.107 1.11c.479.478.479 1.251 0 1.73L8.492 23.643a1.221 1.221 0 0 1-1.73-.004l-5.06-5.066L18.58 1.705zM15.508.357a1.221 1.221 0 0 1 1.73.004l.118.115L.473 17.342l-.116-.116a1.227 1.227 0 0 1 0-1.732z"})}),(0,s.jsx)("small",{children:"Commande"})]}),(0,s.jsxs)(i(),{href:"/panier",className:"header-icon-link","aria-label":"Panier",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"var(--primary-color)",width:"24","aria-hidden":"true",focusable:"false",children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9999 8.5C13.9329 8.5 15.4999 6.933 15.4999 5C15.4999 3.067 13.9329 1.5 11.9999 1.5C10.0669 1.5 8.49994 3.067 8.49994 5C8.49994 6.933 10.0669 8.5 11.9999 8.5ZM11.9999 10C14.7614 10 16.9999 7.76142 16.9999 5C16.9999 2.23858 14.7614 0 11.9999 0C9.23852 0 6.99994 2.23858 6.99994 5C6.99994 7.76142 9.23852 10 11.9999 10Z"}),(0,s.jsx)("path",{d:"M0.444166 7.36858C0.213385 6.13775 1.15763 5 2.40991 5H21.5902C22.8425 5 23.7867 6.13775 23.5559 7.36858L21.3059 19.3686C21.1286 20.3145 20.3026 21 19.3402 21H4.65991C3.69748 21 2.87153 20.3145 2.69417 19.3686L0.444166 7.36858Z"})]}),(0,s.jsx)("small",{children:"Panier"})]}),l&&"client"===l.role?(0,s.jsxs)(i(),{href:"/client/",className:"header-icon-link","aria-label":"Compte client",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"var(--primary-color)",width:"24","aria-hidden":"true",focusable:"false",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M14.674 14.864l7.122 1.516c1.31.334 2.204 1.529 2.204 2.895V24H0v-4.725c0-1.366.917-2.56 2.227-2.895l7.122-1.516a10.76 10.76 0 0 1 5.325 0zM12 0a6 6 0 1 1-.001 12.001A6 6 0 0 1 12 0z"})}),(0,s.jsx)("small",{children:"Compte"})]}):(0,s.jsxs)(i(),{href:"/login",className:"header-icon-link","aria-label":"Connexion",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"var(--primary-color)",width:"24",height:"24","aria-hidden":"true",focusable:"false",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M14.674 14.864l7.122 1.516c1.31.334 2.204 1.529 2.204 2.895V24H0v-4.725c0-1.366.917-2.56 2.227-2.895l7.122-1.516a10.76 10.76 0 0 1 5.325 0zM12 0a6 6 0 1 1-.001 12.001A6 6 0 0 1 12 0z"})}),(0,s.jsx)("small",{children:"Compte"})]})]}),n&&(0,s.jsxs)("div",{className:"mobile-menu-popup",children:[(0,s.jsx)("div",{className:"d-flex justify-content-end p-2",children:(0,s.jsx)("button",{className:"btn btn-outline-secondary",onClick:()=>m(!1),"aria-label":"Close menu",children:(0,s.jsx)("span",{className:"material-icons",children:"close"})})}),(0,s.jsx)("nav",{className:"nav flex-column p-3 mb-3",children:p}),(0,s.jsxs)("div",{className:"d-flex justify-content-around border-top pt-3",children:[(0,s.jsxs)(i(),{href:"/client/reservations",className:"header-icon-link","aria-label":"Commande",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"var(--primary-color)",width:"24","aria-hidden":"true",focusable:"false",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M18.581 1.705l1.185 1.186c-.006.006-.015.006-.022.013-.143.143-.16.392-.015.534l2.258 2.265c.142.14.391.125.533-.018.008-.006.01-.014.014-.02l1.107 1.11c.479.478.479 1.251 0 1.73L8.492 23.643a1.221 1.221 0 0 1-1.73-.004l-5.06-5.066L18.58 1.705zM15.508.357a1.221 1.221 0 0 1 1.73.004l.118.115L.473 17.342l-.116-.116a1.227 1.227 0 0 1 0-1.732z"})}),(0,s.jsx)("small",{children:"Commande"})]}),(0,s.jsxs)(i(),{href:"/panier",className:"header-icon-link","aria-label":"Panier",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"var(--primary-color)",width:"24","aria-hidden":"true",focusable:"false",children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9999 8.5C13.9329 8.5 15.4999 6.933 15.4999 5C15.4999 3.067 13.9329 1.5 11.9999 1.5C10.0669 1.5 8.49994 3.067 8.49994 5C8.49994 6.933 10.0669 8.5 11.9999 8.5ZM11.9999 10C14.7614 10 16.9999 7.76142 16.9999 5C16.9999 2.23858 14.7614 0 11.9999 0C9.23852 0 6.99994 2.23858 6.99994 5C6.99994 7.76142 9.23852 10 11.9999 10Z"}),(0,s.jsx)("path",{d:"M0.444166 7.36858C0.213385 6.13775 1.15763 5 2.40991 5H21.5902C22.8425 5 23.7867 6.13775 23.5559 7.36858L21.3059 19.3686C21.1286 20.3145 20.3026 21 19.3402 21H4.65991C3.69748 21 2.87153 20.3145 2.69417 19.3686L0.444166 7.36858Z"})]}),(0,s.jsx)("small",{children:"Panier"})]})]})]})]})})]})}},9507:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>c});var s=a(7876),r=a(4232);a(8230);var i=a(9099),n=a(4613),t=a(5448);function c(){let[e,l]=(0,r.useState)([]),{user:a}=(0,r.useContext)(n.c),c=(0,i.useRouter)();(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/ticket-types");if(!e.ok)throw Error("Failed to fetch ticket types");let a=await e.json();l(a)}catch(e){console.error("Error fetching ticket types:",e),l([])}})()},[]);let o=e.filter(e=>"Abonnement"===e.category),d=e.filter(e=>"Billet"===e.category),h=e=>{if(!a){alert("Vous devez \xeatre connect\xe9 pour r\xe9server."),c.push("/login");return}let l=[...JSON.parse(localStorage.getItem("reservations")||"[]"),{id:Date.now().toString(),typeId:e.id,typeName:e.name,price:e.price,category:e.category,date:new Date().toISOString()}];localStorage.setItem("reservations",JSON.stringify(l)),alert("R\xe9servation r\xe9ussie !")};return(0,s.jsxs)("div",{className:"main-wrapper",children:[(0,s.jsx)(t.A,{}),(0,s.jsxs)("div",{className:"container my-5",children:[(0,s.jsx)("h1",{children:"Abonnements et Billets"}),(0,s.jsxs)("section",{className:"mb-5",children:[(0,s.jsx)("h2",{children:"Abonnements"}),0===o.length?(0,s.jsx)("p",{children:"Aucun abonnement disponible."}):(0,s.jsx)("div",{className:"list-group",children:o.map(e=>(0,s.jsxs)("div",{className:"list-group-item d-flex justify-content-between align-items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:e.name})," - ",e.price," €"]}),(0,s.jsx)("button",{className:"btn btn-primary btn-sm",onClick:()=>h(e),children:"Souscrire"})]},e.id))})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{children:"Billets"}),0===d.length?(0,s.jsx)("p",{children:"Aucun billet disponible."}):(0,s.jsx)("div",{className:"list-group",children:d.map(e=>(0,s.jsxs)("div",{className:"list-group-item d-flex justify-content-between align-items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:e.name})," - ",e.price," €"]}),(0,s.jsx)("button",{className:"btn btn-primary btn-sm",onClick:()=>h(e),children:"R\xe9server"})]},e.id))})]})]})]})}}},e=>{var l=l=>e(e.s=l);e.O(0,[8230,4587,636,6593,8792],()=>l(4700)),_N_E=e.O()}]);