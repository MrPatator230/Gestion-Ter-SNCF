(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1843,9059],{207:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var s=a(7876),r=a(5448);a(7328);var n=a(6790);function i(e){let{children:t,darkMode:a,toggleDarkMode:i}=e;return(0,s.jsxs)("div",{className:"main-wrapper d-flex flex-column min-vh-100",children:[(0,s.jsx)(r.A,{darkMode:a,toggleDarkMode:i}),(0,s.jsx)("main",{className:"main-container flex-grow-1",children:(0,s.jsx)("div",{className:"container-fluid",children:t})}),(0,s.jsx)(n.A,{})]})}},503:e=>{e.exports={modalBackdrop:"modal_modalBackdrop__ct8eJ",modal:"modal_modal__9os02",modalHeader:"modal_modalHeader__tbn7w",modalTitle:"modal_modalTitle__EMDpe","btn-close":"modal_btn-close__ZiNbZ",modalBody:"modal_modalBody__FZSse",modalFooter:"modal_modalFooter__lUEMp"}},2228:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(7876),r=a(4250),n=a.n(r),i=a(4232),o=a(207),l=a(4613),c=a(503),d=a.n(c);function u(){var e,t;let{isAuthenticated:a,role:r}=(0,i.useContext)(l.c),[c,u]=(0,i.useState)([]),[h,m]=(0,i.useState)(!0),[f,p]=(0,i.useState)(!1),[b,j]=(0,i.useState)(null),[y,v]=(0,i.useState)(null),[x,_]=(0,i.useState)(!1),[S,g]=(0,i.useState)({}),[N,C]=(0,i.useState)(!1),[k,w]=(0,i.useState)("");(0,i.useEffect)(()=>{a&&"admin"===r&&e();async function e(){try{console.log("Fetching schedules data...");let e=await fetch("/api/schedules");if(!e.ok)throw Error("Failed to fetch schedules");let t=await e.json();console.log("Schedules data:",t);let a=t.map(e=>({id:e.id,trainNumber:e.train_number,departureStation:e.departure_station,arrivalStation:e.arrival_station,arrivalTime:e.arrival_time,departureTime:e.departure_time,trainType:e.train_type,rollingStockFileName:e.rolling_stock_file_name,composition:e.composition,joursCirculation:e.jours_circulation,servedStations:e.served_stations,createdAt:e.created_at,updatedAt:e.updated_at,delayMinutes:e.delay_minutes||0,isCancelled:e.is_cancelled||!1,trackAssignments:e.track_assignments||{}}));u(a);let s={};a.forEach(e=>{e.trackAssignments&&(s[e.id]=e.trackAssignments)}),g(s)}catch(e){console.error("Error fetching schedules:",e)}finally{m(!1),console.log("Loading set to false")}}},[a,r]);let O=e=>{v(e),_(!0)},F=e=>{v(e),w(e.cause||""),C(!0)},E=()=>{v(null),_(!1)},T=()=>{v(null),w(""),C(!1)},A=async(e,t,a)=>{let s=c.find(t=>t.id===e);if(s){if("delayMinutes"===t||"isCancelled"===t||null===t){let r,n;null===t&&"object"==typeof a?n={delayMinutes:(r={...s,...a}).delayMinutes,isCancelled:r.isCancelled}:(r={...s,[t]:a},n={[t]:a});try{if(!(await fetch("/api/schedules/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).ok)throw Error("Failed to update schedule status");let t=c.map(t=>t.id===e?r:t);u(t)}catch(e){console.error(e),j({type:"error",text:"Erreur lors de la mise \xe0 jour de l'horaire."})}return}g(s=>{let r={...s};return r[e]||(r[e]={}),r[e][t]=a,r})}},R=async()=>{try{for(let e of c)await fetch("/api/schedules/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({delayMinutes:0,isCancelled:!1})});let e=await fetch("/api/schedules");if(!e.ok)throw Error("Failed to fetch schedules");let t=(await e.json()).map(e=>({id:e.id,trainNumber:e.train_number,departureStation:e.departure_station,arrivalStation:e.arrival_station,arrivalTime:e.arrival_time,departureTime:e.departure_time,trainType:e.train_type,rollingStockFileName:e.rolling_stock_file_name,composition:e.composition,joursCirculation:e.jours_circulation,servedStations:e.served_stations,createdAt:e.created_at,updatedAt:e.updated_at,delayMinutes:e.delay_minutes||0,isCancelled:e.is_cancelled||!1,trackAssignments:e.track_assignments||{}}));u(t),j({type:"success",text:"Retards et suppressions remis \xe0 z\xe9ro."})}catch(e){console.error(e),j({type:"error",text:"Erreur lors de la remise \xe0 z\xe9ro."})}},z=async()=>{p(!0),j(null);try{let e=Object.keys(S).map(e=>fetch("/api/schedules/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({trackAssignments:S[e]})}));if(!(await Promise.all(e)).every(e=>e.ok))throw Error("Erreur lors de la mise \xe0 jour des quais");j({type:"success",text:"Attributions des quais envoy\xe9es avec succ\xe8s."})}catch(e){j({type:"error",text:e.message})}finally{p(!1)}};return h?(0,s.jsx)(o.A,{children:(0,s.jsx)("p",{children:"Chargement..."})}):(0,s.jsxs)(o.A,{children:[(0,s.jsxs)("div",{className:"jsx-41f09a3a6a13b48e container py-4",children:[(0,s.jsx)("h1",{className:"jsx-41f09a3a6a13b48e",children:"Gestion des Horaires"}),(0,s.jsx)("button",{onClick:R,className:"jsx-41f09a3a6a13b48e btn btn-danger mb-3",children:"Remettre \xe0 z\xe9ro retards et suppressions"}),(0,s.jsxs)("button",{onClick:z,disabled:f,className:"jsx-41f09a3a6a13b48e btn btn-primary mb-3 ms-3",children:[f?(0,s.jsx)("span",{role:"status","aria-hidden":"true",className:"jsx-41f09a3a6a13b48e spinner-border spinner-border-sm me-2"}):null,"Envoyer au Serveur"]}),b&&(0,s.jsx)("div",{role:"alert",className:"jsx-41f09a3a6a13b48e "+"alert ".concat("success"===b.type?"alert-success":"alert-danger"),children:b.text}),(0,s.jsxs)("table",{className:"jsx-41f09a3a6a13b48e table table-striped",children:[(0,s.jsx)("thead",{className:"jsx-41f09a3a6a13b48e",children:(0,s.jsxs)("tr",{className:"jsx-41f09a3a6a13b48e",children:[(0,s.jsx)("th",{className:"jsx-41f09a3a6a13b48e",children:"Train"}),(0,s.jsx)("th",{className:"jsx-41f09a3a6a13b48e",children:"D\xe9part"}),(0,s.jsx)("th",{className:"jsx-41f09a3a6a13b48e",children:"Arriv\xe9e"}),(0,s.jsx)("th",{className:"jsx-41f09a3a6a13b48e",children:"Retard (min)"}),(0,s.jsx)("th",{className:"jsx-41f09a3a6a13b48e",children:"Supprim\xe9"}),(0,s.jsx)("th",{className:"jsx-41f09a3a6a13b48e",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"jsx-41f09a3a6a13b48e",children:c.map(e=>(0,s.jsxs)("tr",{style:e.isCancelled?{textDecoration:"line-through",color:"red"}:{},className:"jsx-41f09a3a6a13b48e",children:[(0,s.jsx)("td",{className:"jsx-41f09a3a6a13b48e",children:e.trainNumber}),(0,s.jsx)("td",{className:"jsx-41f09a3a6a13b48e",children:e.departureStation}),(0,s.jsx)("td",{className:"jsx-41f09a3a6a13b48e",children:e.arrivalStation}),(0,s.jsx)("td",{className:"jsx-41f09a3a6a13b48e",children:(0,s.jsx)("input",{type:"number",min:"0",value:e.delayMinutes||0,onChange:t=>{let a=parseInt(t.target.value)||0;a>=0&&A(e.id,"delayMinutes",a)},className:"jsx-41f09a3a6a13b48e form-control"})}),(0,s.jsx)("td",{className:"jsx-41f09a3a6a13b48e",children:(0,s.jsx)("input",{type:"checkbox",checked:e.isCancelled||!1,onChange:t=>{let a=t.target.checked;A(e.id,null,{isCancelled:a,delayMinutes:a?0:e.delayMinutes})},"aria-label":"Supprim\xe9 pour le train ".concat(e.trainNumber),className:"jsx-41f09a3a6a13b48e"})}),(0,s.jsxs)("td",{className:"jsx-41f09a3a6a13b48e",children:[(0,s.jsxs)("button",{onClick:()=>O(e),className:"jsx-41f09a3a6a13b48e btn btn-sm btn-outline-primary me-2",children:[(0,s.jsx)("i",{className:"jsx-41f09a3a6a13b48e icons-edit me-2"}),"Modifier les arr\xeats"]}),(0,s.jsx)("button",{type:"button",onClick:()=>F(e),className:"jsx-41f09a3a6a13b48e btn btn-sm btn-outline-primary",children:"Cause du retard ou de la suppression"})]})]},e.id))})]}),x&&y&&(0,s.jsx)("div",{className:"jsx-41f09a3a6a13b48e "+(d().modalBackdrop||""),children:(0,s.jsxs)("div",{className:"jsx-41f09a3a6a13b48e "+(d().modal||""),children:[(0,s.jsxs)("div",{className:"jsx-41f09a3a6a13b48e "+(d().modalHeader||""),children:[(0,s.jsxs)("h5",{className:"jsx-41f09a3a6a13b48e "+(d().modalTitle||""),children:["Modification des quais - Train ",y.trainNumber]}),(0,s.jsx)("button",{type:"button",onClick:E,"aria-label":"Close",className:"jsx-41f09a3a6a13b48e btn-close"})]}),(0,s.jsxs)("div",{className:"jsx-41f09a3a6a13b48e "+(d().modalBody||""),children:[(0,s.jsxs)("div",{className:"jsx-41f09a3a6a13b48e mb-3",children:[(0,s.jsxs)("label",{className:"jsx-41f09a3a6a13b48e form-label",children:[(0,s.jsx)("i",{className:"jsx-41f09a3a6a13b48e icons-departure me-2"}),"D\xe9part: ",y.departureStation]}),(0,s.jsx)("input",{type:"text",value:(null==(e=S[y.id])?void 0:e[y.departureStation])||"",onChange:e=>A(y.id,y.departureStation,e.target.value),placeholder:"Quai",className:"jsx-41f09a3a6a13b48e form-control"})]}),y.servedStations&&y.servedStations.map((e,t)=>{var a;let r="object"==typeof e?e.name:e;return(0,s.jsxs)("div",{className:"jsx-41f09a3a6a13b48e mb-3",children:[(0,s.jsxs)("label",{className:"jsx-41f09a3a6a13b48e form-label",children:[(0,s.jsx)("i",{className:"jsx-41f09a3a6a13b48e icons-clock me-2"}),"Arr\xeat: ",r]}),(0,s.jsx)("input",{type:"text",value:(null==(a=S[y.id])?void 0:a[r])||"",onChange:e=>A(y.id,r,e.target.value),placeholder:"Quai",className:"jsx-41f09a3a6a13b48e form-control"})]},"".concat(y.id,"-station-").concat(t))}),(0,s.jsxs)("div",{className:"jsx-41f09a3a6a13b48e mb-3",children:[(0,s.jsxs)("label",{className:"jsx-41f09a3a6a13b48e form-label",children:[(0,s.jsx)("i",{className:"jsx-41f09a3a6a13b48e icons-arrival me-2"}),"Arriv\xe9e: ",y.arrivalStation]}),(0,s.jsx)("input",{type:"text",value:(null==(t=S[y.id])?void 0:t[y.arrivalStation])||"",onChange:e=>A(y.id,y.arrivalStation,e.target.value),placeholder:"Quai",className:"jsx-41f09a3a6a13b48e form-control"})]})]}),(0,s.jsx)("div",{className:"jsx-41f09a3a6a13b48e "+(d().modalFooter||""),children:(0,s.jsx)("button",{type:"button",onClick:E,className:"jsx-41f09a3a6a13b48e btn btn-secondary",children:"Fermer"})})]})}),N&&y&&(0,s.jsx)("div",{className:"jsx-41f09a3a6a13b48e "+(d().modalBackdrop||""),children:(0,s.jsxs)("div",{className:"jsx-41f09a3a6a13b48e "+(d().modal||""),children:[(0,s.jsxs)("div",{className:"jsx-41f09a3a6a13b48e "+(d().modalHeader||""),children:[(0,s.jsxs)("h5",{className:"jsx-41f09a3a6a13b48e "+(d().modalTitle||""),children:["Cause du retard ou de la suppression - Train ",y.trainNumber]}),(0,s.jsx)("button",{type:"button",onClick:T,"aria-label":"Close",className:"jsx-41f09a3a6a13b48e btn-close"})]}),(0,s.jsx)("div",{className:"jsx-41f09a3a6a13b48e "+(d().modalBody||""),children:(0,s.jsx)("textarea",{rows:"5",value:k,onChange:e=>w(e.target.value),placeholder:"Entrez la cause du retard ou de la suppression ici...",className:"jsx-41f09a3a6a13b48e form-control"})}),(0,s.jsxs)("div",{className:"jsx-41f09a3a6a13b48e "+(d().modalFooter||""),children:[(0,s.jsx)("button",{type:"button",onClick:async()=>{if(y)try{if(p(!0),j(null),!(await fetch("/api/schedules/".concat(y.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({cause:k})})).ok)throw Error("Erreur lors de la mise \xe0 jour de la cause.");let e=c.map(e=>e.id===y.id?{...e,cause:k}:e);u(e),j({type:"success",text:"Cause mise \xe0 jour avec succ\xe8s."}),T()}catch(e){j({type:"error",text:e.message})}finally{p(!1)}},className:"jsx-41f09a3a6a13b48e btn btn-primary",children:"Enregistrer"}),(0,s.jsx)("button",{type:"button",onClick:T,className:"jsx-41f09a3a6a13b48e btn btn-secondary ms-2",children:"Annuler"})]})]})})]}),(0,s.jsx)(n(),{id:"41f09a3a6a13b48e",children:".container.jsx-41f09a3a6a13b48e{max-width:900px}.form-label.jsx-41f09a3a6a13b48e{font-weight:600}"})]})}},2552:()=>{},3620:(e,t,a)=>{"use strict";a.d(t,{k5:()=>d});var s=a(4232),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=s.createContext&&s.createContext(r),i=["attr","size","title"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,s)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach(function(t){var s,r,n;s=e,r=t,n=a[t],(r=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var s=a.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(r))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function d(e){return t=>s.createElement(u,o({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,a)=>s.createElement(t.tag,c({key:a},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var a,{attr:r,size:n,title:l}=e,d=function(e,t){if(null==e)return{};var a,s,r=function(e,t){if(null==e)return{};var a={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;a[s]=e[s]}return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(e,i),u=n||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),s.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,d,{className:a,style:c(c({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&s.createElement("title",null,l),e.children)};return void 0!==n?s.createElement(n.Consumer,null,e=>t(e)):t(r)}},4250:(e,t,a)=>{"use strict";e.exports=a(8817).style},6860:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/gestion-horaires",function(){return a(2228)}])},8817:(e,t,a)=>{"use strict";var s=a(9742);a(2552);var r=a(4232),n=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(r),i=void 0!==s&&s.env&&!0,o=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,a=t.name,s=void 0===a?"stylesheet":a,r=t.optimizeForSpeed,n=void 0===r?i:r;c(o(s),"`name` must be a string"),this._name=s,this._deletedRulePlaceholder="#"+s+"-deleted-rule____{}",c("boolean"==typeof n,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=n,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var l=document.querySelector('meta[property="csp-nonce"]');this._nonce=l?l.getAttribute("content"):null}var t,a=e.prototype;return a.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},a.isOptimizeForSpeed=function(){return this._optimizeForSpeed},a.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(i||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,a){return"number"==typeof a?e._serverSheet.cssRules[a]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),a},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},a.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},a.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},a.insertRule=function(e,t){if(c(o(e),"`insertRule` accepts only strings"),this._optimizeForSpeed){var a=this.getSheet();"number"!=typeof t&&(t=a.cssRules.length);try{a.insertRule(e,t)}catch(t){return i||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var s=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,s))}return this._rulesCount++},a.replaceRule=function(e,t){if(this._optimizeForSpeed){var a=this.getSheet();if(t.trim()||(t=this._deletedRulePlaceholder),!a.cssRules[e])return e;a.deleteRule(e);try{a.insertRule(t,e)}catch(s){i||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),a.insertRule(this._deletedRulePlaceholder,e)}}else{var s=this._tags[e];c(s,"old rule at index `"+e+"` not found"),s.textContent=t}return e},a.deleteRule=function(e){if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},a.flush=function(){this._injected=!1,this._rulesCount=0,this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]},a.cssRules=function(){var e=this;return this._tags.reduce(function(t,a){return a?t=t.concat(Array.prototype.map.call(e.getSheetForTag(a).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},a.makeStyleTag=function(e,t,a){t&&c(o(t),"makeStyleTag accepts only strings as second parameter");var s=document.createElement("style");this._nonce&&s.setAttribute("nonce",this._nonce),s.type="text/css",s.setAttribute("data-"+e,""),t&&s.appendChild(document.createTextNode(t));var r=document.head||document.getElementsByTagName("head")[0];return a?r.insertBefore(s,a):r.appendChild(s),s},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(e.prototype,t),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,a=e.length;a;)t=33*t^e.charCodeAt(--a);return t>>>0},u={};function h(e,t){if(!t)return"jsx-"+e;var a=String(t),s=e+a;return u[s]||(u[s]="jsx-"+d(e+"-"+a)),u[s]}function m(e,t){var a=e+t;return u[a]||(u[a]=t.replace(/__jsx-style-dynamic-selector/g,e)),u[a]}var f=function(){function e(e){var t=void 0===e?{}:e,a=t.styleSheet,s=void 0===a?null:a,r=t.optimizeForSpeed,n=void 0!==r&&r;this._sheet=s||new l({name:"styled-jsx",optimizeForSpeed:n}),this._sheet.inject(),s&&"boolean"==typeof n&&(this._sheet.setOptimizeForSpeed(n),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var a=this.getIdAndRules(e),s=a.styleId,r=a.rules;if(s in this._instancesCounts){this._instancesCounts[s]+=1;return}var n=r.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[s]=n,this._instancesCounts[s]=1},t.remove=function(e){var t=this,a=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(a in this._instancesCounts,"styleId: `"+a+"` not found"),this._instancesCounts[a]-=1,this._instancesCounts[a]<1){var s=this._fromServer&&this._fromServer[a];s?(s.parentNode.removeChild(s),delete this._fromServer[a]):(this._indices[a].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[a]),delete this._instancesCounts[a]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],a=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return a[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,a;return t=this.cssRules(),void 0===(a=e)&&(a={}),t.map(function(e){var t=e[0],s=e[1];return n.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:a.nonce?a.nonce:void 0,dangerouslySetInnerHTML:{__html:s}})})},t.getIdAndRules=function(e){var t=e.children,a=e.dynamic,s=e.id;if(a){var r=h(s,a);return{styleId:r,rules:Array.isArray(t)?t.map(function(e){return m(r,e)}):[m(r,t)]}}return{styleId:h(s),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),p=r.createContext(null);p.displayName="StyleSheetContext";var b=n.default.useInsertionEffect||n.default.useLayoutEffect,j=new f;function y(e){var t=j||r.useContext(p);return t&&b(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)]),null}y.dynamic=function(e){return e.map(function(e){return h(e[0],e[1])}).join(" ")},t.style=y}},e=>{var t=t=>e(e.s=t);e.O(0,[8585,8230,4587,327,636,6593,8792],()=>t(6860)),_N_E=e.O()}]);