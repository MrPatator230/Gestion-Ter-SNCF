exports.id=1015,exports.ids=[1015],exports.modules={468:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a,l:()=>i});var s=r(8732),n=r(2015);let i=(0,n.createContext)(),a=({children:e})=>{let[t,r]=(0,n.useState)("Ma Soci\xe9t\xe9 Ferroviaire"),[a,o]=(0,n.useState)("Le transport ferroviaire simplifi\xe9"),[l,c]=(0,n.useState)("Description de la soci\xe9t\xe9 ferroviaire..."),[d,u]=(0,n.useState)("#007bff"),[m,h]=(0,n.useState)("#6c757d"),[g,x]=(0,n.useState)("#28a745"),[p,f]=(0,n.useState)("Train Schedule Management"),[j,y]=(0,n.useState)("/images/logo-ter-mobigo.svg"),[v,S]=(0,n.useState)("/favicon.ico"),[b,k]=(0,n.useState)("Inter"),[N,_]=(0,n.useState)("rounded"),[C,T]=(0,n.useState)("default"),[P,w]=(0,n.useState)("\xa9 2024 Ma Soci\xe9t\xe9 Ferroviaire"),[A,M]=(0,n.useState)([]),[F,O]=(0,n.useState)(""),[E,I]=(0,n.useState)(2);return(0,n.useEffect)(()=>{!async function(){try{let e=await fetch("/api/entreprise");if(e.ok){let t=await e.json(),s=t.entrepriseSettings||{};r(s.company_name||"Ma Soci\xe9t\xe9 Ferroviaire"),o(s.company_slogan||"Le transport ferroviaire simplifi\xe9"),c(s.company_description||"Description de la soci\xe9t\xe9 ferroviaire..."),u(s.primary_color||"#007bff"),h(s.secondary_color||"#6c757d"),x(s.accent_color||"#28a745"),f(s.app_name||"Train Schedule Management"),y(s.logo_url||"/images/logo-ter-mobigo.svg"),S(s.favicon_url||"/favicon.ico"),k(s.font_family||"Inter"),_(s.button_style||"rounded"),T(s.header_style||"default"),w(s.footer_content||"\xa9 2024 Ma Soci\xe9t\xe9 Ferroviaire"),M(t.footerRegions||[]),O(s.custom_css||""),I(void 0!==s.served_stations_lines?s.served_stations_lines:2)}}catch(e){console.error("Failed to fetch settings:",e)}}()},[]),(0,n.useEffect)(()=>{let e=document.documentElement;e.style.setProperty("--primary-color",d),e.style.setProperty("--secondary-color",m),e.style.setProperty("--accent-color",g),e.style.setProperty("--font-family",b);let t=document.getElementById("custom-styles");t||((t=document.createElement("style")).id="custom-styles",document.head.appendChild(t)),t.textContent=F},[d,m,g,b,F]),(0,s.jsx)(i.Provider,{value:{companyName:t,setCompanyName:r,companySlogan:a,setCompanySlogan:o,companyDescription:l,setCompanyDescription:c,primaryColor:d,setPrimaryColor:u,secondaryColor:m,setSecondaryColor:h,accentColor:g,setAccentColor:x,appName:p,setAppName:f,logoUrl:j,setLogoUrl:y,faviconUrl:v,setFaviconUrl:S,fontFamily:b,setFontFamily:k,buttonStyle:N,setButtonStyle:_,headerStyle:C,setHeaderStyle:T,footerContent:P,setFooterContent:w,footerRegions:A,setFooterRegions:M,customCss:F,setCustomCss:O,servedStationsLines:E,setServedStationsLines:I},children:e})}},734:(e,t,r)=>{"use strict";r.d(t,{O:()=>a,c:()=>i});var s=r(8732),n=r(2015);let i=(0,n.createContext)();function a({children:e}){let[t,r]=(0,n.useState)(!1),[a,o]=(0,n.useState)(null),[l,c]=(0,n.useState)(null),d=async(e,t)=>{try{let s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})});if(!s.ok)return!1;let n=await s.json();return r(!0),o(n.user.role),c(n.user),!0}catch(e){return console.error("Login error:",e),!1}},u=async(e,t,s="",n="",i="")=>{try{let a=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t,name:s,email:n,phone:i})});if(!a.ok)return!1;return await a.json(),r(!0),o("client"),c({username:e,role:"client",name:s,email:n,phone:i}),!0}catch(e){return console.error("Registration error:",e),!1}};return(0,s.jsx)(i.Provider,{value:{isAuthenticated:t,role:a,user:l,setUser:c,login:d,logout:()=>{r(!1),o(null),c(null)},register:u},children:e})}},2768:()=>{},5020:(e,t,r)=>{"use strict";r.d(t,{N:()=>o,W:()=>a});var s=r(8732),n=r(2015);let i=(0,n.createContext)();function a({children:e}){let[t,r]=(0,n.useState)({});return(0,s.jsx)(i.Provider,{value:{trackAssignments:t,updateTrackAssignment:(e,t,s)=>{r(r=>{let n={...r,[e]:{...r[e]||{},[t]:s}};return localStorage.setItem("trackAssignments",JSON.stringify(n)),n})},removeTrackAssignment:(e,t)=>{r(r=>{let s={...r};return s[e]&&(delete s[e][t],0===Object.keys(s[e]).length&&delete s[e]),localStorage.setItem("trackAssignments",JSON.stringify(s)),s})},clearTrackAssignments:()=>{r({}),localStorage.removeItem("trackAssignments")}},children:e})}function o(){let e=(0,n.useContext)(i);if(void 0===e)throw Error("useTrackAssignments must be used within a TrackAssignmentProvider");return e}},5341:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(8732);r(2015);let n=({paginatedStations:e=[],categoryColors:t={},currentPage:r,pageSize:n,handleEdit:i,handleDelete:a,totalPages:o,goToPreviousPage:l,goToNextPage:c,openMessagePopup:d})=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{children:"Liste des gares cr\xe9\xe9es"}),(0,s.jsxs)("table",{className:"table table-striped",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Nom de la gare"}),(0,s.jsx)("th",{children:"Cat\xe9gories"}),(0,s.jsx)("th",{children:"Type de lieu"}),(0,s.jsx)("th",{children:"Actions"})]})}),(0,s.jsx)("tbody",{children:0===e.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:"4",className:"text-center",children:"Aucune gare cr\xe9\xe9e"})}):e.map((o,l)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:o.name}),(0,s.jsx)("td",{children:o.categories&&Array.isArray(o.categories)&&o.categories.map(e=>(0,s.jsx)("span",{className:`badge bg-${t[e]||"secondary"} me-1`,children:e},e))}),(0,s.jsx)("td",{children:o.locationType||"Ville"}),(0,s.jsxs)("td",{children:[(0,s.jsx)("button",{className:"btn btn-sm btn-warning me-2",onClick:()=>i((r-1)*n+l),children:"Modifier"}),(0,s.jsx)("button",{className:"btn btn-sm btn-danger me-2",onClick:()=>a((r-1)*n+l),children:"Supprimer"}),(0,s.jsx)("button",{className:"btn btn-sm btn-info",onClick:()=>d(e[(r-1)*n+l]),children:"Message"})]})]},l))})]}),o>1&&(0,s.jsx)("nav",{"aria-label":"Page navigation example",children:(0,s.jsxs)("ul",{className:"pagination justify-content-center",children:[(0,s.jsx)("li",{className:`page-item ${1===r?"disabled":""}`,children:(0,s.jsx)("button",{className:"page-link",onClick:l,children:"Pr\xe9c\xe9dent"})}),(0,s.jsx)("li",{className:"page-item disabled",children:(0,s.jsxs)("span",{className:"page-link",children:["Page ",r," sur ",o]})}),(0,s.jsx)("li",{className:`page-item ${r===o?"disabled":""}`,children:(0,s.jsx)("button",{className:"page-link",onClick:c,children:"Suivant"})})]})})]})},6840:()=>{},7522:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(8732);r(3908),r(2768),r(6840),r(2015);var n=r(9788),i=r.n(n),a=r(4233),o=r(468),l=r(734),c=r(5020);function d({children:e}){return e}function u({Component:e,pageProps:t}){return(0,a.useRouter)().pathname.startsWith("/afficheurs"),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i(),{children:[(0,s.jsx)("title",{children:"TER Ferrovia Bourgogne - Franche-Comt\xe9"}),(0,s.jsx)("meta",{name:"description",content:"Gestion des horaires et services TER"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsx)(l.O,{children:(0,s.jsx)(o.Z,{children:(0,s.jsx)(c.W,{children:(0,s.jsx)("div",{className:"",children:(0,s.jsx)(d,{children:(0,s.jsx)(e,{...t})})})})})})]})}},9674:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(8732),n=r(2341);function i(){return(0,s.jsxs)(n.Html,{children:[(0,s.jsx)(n.Head,{children:(0,s.jsx)("link",{href:"https://fonts.googleapis.com/icon?family=Material+Icons",rel:"stylesheet"})}),(0,s.jsxs)("body",{children:[(0,s.jsx)(n.Main,{}),(0,s.jsx)(n.NextScript,{})]})]})}}};