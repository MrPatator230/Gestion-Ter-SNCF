exports.id=4909,exports.ids=[4909],exports.modules={359:e=>{e.exports={auraTheme:"operatorColors_auraTheme__d_Qhq",bretagneTheme:"operatorColors_bretagneTheme__z_kxX",centreTheme:"operatorColors_centreTheme__YwafM",grandEstTheme:"operatorColors_grandEstTheme___Hfnp",hdfTheme:"operatorColors_hdfTheme__8vks2",mobigoTheme:"operatorColors_mobigoTheme___hcsh",normandieTheme:"operatorColors_normandieTheme__CffTl",nouvelleAquitaineTheme:"operatorColors_nouvelleAquitaineTheme__gN9v3",occitanieTheme:"operatorColors_occitanieTheme__Pm9nM",pacaTheme:"operatorColors_pacaTheme__Z9abg",pddlTheme:"operatorColors_pddlTheme__8Dszb"}},468:(e,r,a)=>{"use strict";a.d(r,{Z:()=>l,l:()=>i});var s=a(8732),t=a(2015);let i=(0,t.createContext)(),l=({children:e})=>{let[r,a]=(0,t.useState)("Ma Soci\xe9t\xe9 Ferroviaire"),[l,n]=(0,t.useState)("Le transport ferroviaire simplifi\xe9"),[o,c]=(0,t.useState)("Description de la soci\xe9t\xe9 ferroviaire..."),[d,h]=(0,t.useState)("#007bff"),[m,u]=(0,t.useState)("#6c757d"),[f,x]=(0,t.useState)("#28a745"),[p,v]=(0,t.useState)("Train Schedule Management"),[g,j]=(0,t.useState)("/images/logo-ter-mobigo.svg"),[C,y]=(0,t.useState)("/favicon.ico"),[_,w]=(0,t.useState)("Inter"),[b,S]=(0,t.useState)("rounded"),[N,T]=(0,t.useState)("default"),[k,M]=(0,t.useState)("\xa9 2024 Ma Soci\xe9t\xe9 Ferroviaire"),[A,F]=(0,t.useState)([]),[P,H]=(0,t.useState)(""),[L,R]=(0,t.useState)(2);return(0,t.useEffect)(()=>{!async function(){try{let e=await fetch("/api/entreprise");if(e.ok){let r=await e.json(),s=r.entrepriseSettings||{};a(s.company_name||"Ma Soci\xe9t\xe9 Ferroviaire"),n(s.company_slogan||"Le transport ferroviaire simplifi\xe9"),c(s.company_description||"Description de la soci\xe9t\xe9 ferroviaire..."),h(s.primary_color||"#007bff"),u(s.secondary_color||"#6c757d"),x(s.accent_color||"#28a745"),v(s.app_name||"Train Schedule Management"),j(s.logo_url||"/images/logo-ter-mobigo.svg"),y(s.favicon_url||"/favicon.ico"),w(s.font_family||"Inter"),S(s.button_style||"rounded"),T(s.header_style||"default"),M(s.footer_content||"\xa9 2024 Ma Soci\xe9t\xe9 Ferroviaire"),F(r.footerRegions||[]),H(s.custom_css||""),R(void 0!==s.served_stations_lines?s.served_stations_lines:2)}}catch(e){console.error("Failed to fetch settings:",e)}}()},[]),(0,t.useEffect)(()=>{let e=document.documentElement;e.style.setProperty("--primary-color",d),e.style.setProperty("--secondary-color",m),e.style.setProperty("--accent-color",f),e.style.setProperty("--font-family",_);let r=document.getElementById("custom-styles");r||((r=document.createElement("style")).id="custom-styles",document.head.appendChild(r)),r.textContent=P},[d,m,f,_,P]),(0,s.jsx)(i.Provider,{value:{companyName:r,setCompanyName:a,companySlogan:l,setCompanySlogan:n,companyDescription:o,setCompanyDescription:c,primaryColor:d,setPrimaryColor:h,secondaryColor:m,setSecondaryColor:u,accentColor:f,setAccentColor:x,appName:p,setAppName:v,logoUrl:g,setLogoUrl:j,faviconUrl:C,setFaviconUrl:y,fontFamily:_,setFontFamily:w,buttonStyle:b,setButtonStyle:S,headerStyle:N,setHeaderStyle:T,footerContent:k,setFooterContent:M,footerRegions:A,setFooterRegions:F,customCss:P,setCustomCss:H,servedStationsLines:L,setServedStationsLines:R},children:e})}},734:(e,r,a)=>{"use strict";a.d(r,{O:()=>l,c:()=>i});var s=a(8732),t=a(2015);let i=(0,t.createContext)();function l({children:e}){let[r,a]=(0,t.useState)(!1),[l,n]=(0,t.useState)(null),[o,c]=(0,t.useState)(null),d=async(e,r)=>{try{let s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:r})});if(!s.ok)return!1;let t=await s.json();return a(!0),n(t.user.role),c(t.user),!0}catch(e){return console.error("Login error:",e),!1}},h=async(e,r,s="",t="",i="")=>{try{let l=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:r,name:s,email:t,phone:i})});if(!l.ok)return!1;return await l.json(),a(!0),n("client"),c({username:e,role:"client",name:s,email:t,phone:i}),!0}catch(e){return console.error("Registration error:",e),!1}};return(0,s.jsx)(i.Provider,{value:{isAuthenticated:r,role:l,user:o,setUser:c,login:d,logout:()=>{a(!1),n(null),c(null)},register:h},children:e})}},2768:()=>{},5020:(e,r,a)=>{"use strict";a.d(r,{N:()=>n,W:()=>l});var s=a(8732),t=a(2015);let i=(0,t.createContext)();function l({children:e}){let[r,a]=(0,t.useState)({});return(0,s.jsx)(i.Provider,{value:{trackAssignments:r,updateTrackAssignment:(e,r,s)=>{a(a=>{let t={...a,[e]:{...a[e]||{},[r]:s}};return localStorage.setItem("trackAssignments",JSON.stringify(t)),t})},removeTrackAssignment:(e,r)=>{a(a=>{let s={...a};return s[e]&&(delete s[e][r],0===Object.keys(s[e]).length&&delete s[e]),localStorage.setItem("trackAssignments",JSON.stringify(s)),s})},clearTrackAssignments:()=>{a({}),localStorage.removeItem("trackAssignments")}},children:e})}function n(){let e=(0,t.useContext)(i);if(void 0===e)throw Error("useTrackAssignments must be used within a TrackAssignmentProvider");return e}},6840:()=>{},7522:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>h});var s=a(8732);a(3908),a(2768),a(6840),a(2015);var t=a(9788),i=a.n(t),l=a(4233),n=a(468),o=a(734),c=a(5020);function d({children:e}){return e}function h({Component:e,pageProps:r}){return(0,l.useRouter)().pathname.startsWith("/afficheurs"),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i(),{children:[(0,s.jsx)("title",{children:"TER Ferrovia Bourgogne - Franche-Comt\xe9"}),(0,s.jsx)("meta",{name:"description",content:"Gestion des horaires et services TER"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsx)(o.O,{children:(0,s.jsx)(n.Z,{children:(0,s.jsx)(c.W,{children:(0,s.jsx)("div",{className:"",children:(0,s.jsx)(d,{children:(0,s.jsx)(e,{...r})})})})})})]})}},9555:(e,r,a)=>{"use strict";a.d(r,{A:()=>f});var s=a(8732),t=a(9918),i=a.n(t),l=a(6761),n=a.n(l),o=a(4233),c=a(2015),d=a(734),h=a(468),m=a(359),u=a.n(m);function f(){let e=(0,o.useRouter)().pathname,{user:r}=(0,c.useContext)(d.c)||{},{logoUrl:a,appName:t}=(0,c.useContext)(h.l)||{},[l,m]=(0,c.useState)(!1),f=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i(),{href:"/",className:`nav-link ${"/"===e?"active":""}`,onClick:()=>m(!1),children:"Accueil"}),(0,s.jsxs)(i(),{href:"/verifier-horaires",className:`nav-link ${"/verifier-horaires"===e?"active":""}`,onClick:()=>m(!1),children:[(0,s.jsx)("span",{className:"material-icons me-1",children:"search"}),"V\xe9rifier Horaires"]}),(0,s.jsx)(i(),{href:"/actualites",className:`nav-link ${"/actualites"===e?"active":""}`,onClick:()=>m(!1),children:"Actualit\xe9s"}),(0,s.jsx)(i(),{href:"/abonnements-et-billets",className:`nav-link ${"/abonnements-et-billets"===e?"active":""}`,onClick:()=>m(!1),children:"Abonnements & Billets"}),(0,s.jsx)(i(),{href:"/horaires-par-gare",className:`nav-link ${"/horaires-par-gare"===e?"active":""}`,onClick:()=>m(!1),children:"Horaires par gare"}),(0,s.jsx)(i(),{href:"/FH",className:`nav-link ${"/FH"===e?"active":""}`,onClick:()=>m(!1),children:"Fiches Horaires"})]});return(0,s.jsxs)("header",{className:`mastheader bg-white shadow-sm ${(e=>{if(!e)return"";let r=e.split("logo-ter-")[1]?.split(".")[0];return r?u()[`${r}Theme`]:""})(a)}`,style:{fontFamily:"'SNCF', Arial, sans-serif"},children:[(0,s.jsx)("link",{rel:"icon",href:"../favicon.ico"}),(0,s.jsx)("div",{className:"container-fluid",children:(0,s.jsxs)("div",{className:"d-flex align-items-center py-2",children:[(0,s.jsx)(i(),{href:"/",className:"me-4","aria-label":t||"SNCF",children:(0,s.jsx)(n(),{src:a||"/images/sncf-logo.png",alt:t||"Logo",width:300,height:84,priority:!0})}),(0,s.jsx)("nav",{className:"nav flex-grow-1 d-none d-md-flex",children:f}),(0,s.jsx)("div",{className:"d-md-none me-3",children:(0,s.jsxs)("button",{className:"btn btn-outline-primary",onClick:()=>{m(!l)},"aria-label":"Toggle menu",children:[(0,s.jsx)("span",{className:"material-icons",children:l?"close":"menu"}),(0,s.jsx)("span",{className:"ms-1",children:"Menu"})]})}),(0,s.jsxs)("div",{className:"d-flex align-items-center d-none d-md-flex",children:[(0,s.jsxs)(i(),{href:"/client/reservations",className:"header-icon-link","aria-label":"Commande",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"var(--primary-color)",width:"24","aria-hidden":"true",focusable:"false",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M18.581 1.705l1.185 1.186c-.006.006-.015.006-.022.013-.143.143-.16.392-.015.534l2.258 2.265c.142.14.391.125.533-.018.008-.006.01-.014.014-.02l1.107 1.11c.479.478.479 1.251 0 1.73L8.492 23.643a1.221 1.221 0 0 1-1.73-.004l-5.06-5.066L18.58 1.705zM15.508.357a1.221 1.221 0 0 1 1.73.004l.118.115L.473 17.342l-.116-.116a1.227 1.227 0 0 1 0-1.732z"})}),(0,s.jsx)("small",{children:"Commande"})]}),(0,s.jsxs)(i(),{href:"/panier",className:"header-icon-link","aria-label":"Panier",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"var(--primary-color)",width:"24","aria-hidden":"true",focusable:"false",children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9999 8.5C13.9329 8.5 15.4999 6.933 15.4999 5C15.4999 3.067 13.9329 1.5 11.9999 1.5C10.0669 1.5 8.49994 3.067 8.49994 5C8.49994 6.933 10.0669 8.5 11.9999 8.5ZM11.9999 10C14.7614 10 16.9999 7.76142 16.9999 5C16.9999 2.23858 14.7614 0 11.9999 0C9.23852 0 6.99994 2.23858 6.99994 5C6.99994 7.76142 9.23852 10 11.9999 10Z"}),(0,s.jsx)("path",{d:"M0.444166 7.36858C0.213385 6.13775 1.15763 5 2.40991 5H21.5902C22.8425 5 23.7867 6.13775 23.5559 7.36858L21.3059 19.3686C21.1286 20.3145 20.3026 21 19.3402 21H4.65991C3.69748 21 2.87153 20.3145 2.69417 19.3686L0.444166 7.36858Z"})]}),(0,s.jsx)("small",{children:"Panier"})]}),r&&"client"===r.role?(0,s.jsxs)(i(),{href:"/client/",className:"header-icon-link","aria-label":"Compte client",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"var(--primary-color)",width:"24","aria-hidden":"true",focusable:"false",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M14.674 14.864l7.122 1.516c1.31.334 2.204 1.529 2.204 2.895V24H0v-4.725c0-1.366.917-2.56 2.227-2.895l7.122-1.516a10.76 10.76 0 0 1 5.325 0zM12 0a6 6 0 1 1-.001 12.001A6 6 0 0 1 12 0z"})}),(0,s.jsx)("small",{children:"Compte"})]}):(0,s.jsxs)(i(),{href:"/login",className:"header-icon-link","aria-label":"Connexion",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"var(--primary-color)",width:"24",height:"24","aria-hidden":"true",focusable:"false",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M14.674 14.864l7.122 1.516c1.31.334 2.204 1.529 2.204 2.895V24H0v-4.725c0-1.366.917-2.56 2.227-2.895l7.122-1.516a10.76 10.76 0 0 1 5.325 0zM12 0a6 6 0 1 1-.001 12.001A6 6 0 0 1 12 0z"})}),(0,s.jsx)("small",{children:"Compte"})]})]}),l&&(0,s.jsxs)("div",{className:"mobile-menu-popup",children:[(0,s.jsx)("div",{className:"d-flex justify-content-end p-2",children:(0,s.jsx)("button",{className:"btn btn-outline-secondary",onClick:()=>m(!1),"aria-label":"Close menu",children:(0,s.jsx)("span",{className:"material-icons",children:"close"})})}),(0,s.jsx)("nav",{className:"nav flex-column p-3 mb-3",children:f}),(0,s.jsxs)("div",{className:"d-flex justify-content-around border-top pt-3",children:[(0,s.jsxs)(i(),{href:"/client/reservations",className:"header-icon-link","aria-label":"Commande",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"var(--primary-color)",width:"24","aria-hidden":"true",focusable:"false",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M18.581 1.705l1.185 1.186c-.006.006-.015.006-.022.013-.143.143-.16.392-.015.534l2.258 2.265c.142.14.391.125.533-.018.008-.006.01-.014.014-.02l1.107 1.11c.479.478.479 1.251 0 1.73L8.492 23.643a1.221 1.221 0 0 1-1.73-.004l-5.06-5.066L18.58 1.705zM15.508.357a1.221 1.221 0 0 1 1.73.004l.118.115L.473 17.342l-.116-.116a1.227 1.227 0 0 1 0-1.732z"})}),(0,s.jsx)("small",{children:"Commande"})]}),(0,s.jsxs)(i(),{href:"/panier",className:"header-icon-link","aria-label":"Panier",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"var(--primary-color)",width:"24","aria-hidden":"true",focusable:"false",children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9999 8.5C13.9329 8.5 15.4999 6.933 15.4999 5C15.4999 3.067 13.9329 1.5 11.9999 1.5C10.0669 1.5 8.49994 3.067 8.49994 5C8.49994 6.933 10.0669 8.5 11.9999 8.5ZM11.9999 10C14.7614 10 16.9999 7.76142 16.9999 5C16.9999 2.23858 14.7614 0 11.9999 0C9.23852 0 6.99994 2.23858 6.99994 5C6.99994 7.76142 9.23852 10 11.9999 10Z"}),(0,s.jsx)("path",{d:"M0.444166 7.36858C0.213385 6.13775 1.15763 5 2.40991 5H21.5902C22.8425 5 23.7867 6.13775 23.5559 7.36858L21.3059 19.3686C21.1286 20.3145 20.3026 21 19.3402 21H4.65991C3.69748 21 2.87153 20.3145 2.69417 19.3686L0.444166 7.36858Z"})]}),(0,s.jsx)("small",{children:"Panier"})]})]})]})]})})]})}},9674:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>i});var s=a(8732),t=a(2341);function i(){return(0,s.jsxs)(t.Html,{children:[(0,s.jsx)(t.Head,{children:(0,s.jsx)("link",{href:"https://fonts.googleapis.com/icon?family=Material+Icons",rel:"stylesheet"})}),(0,s.jsxs)("body",{children:[(0,s.jsx)(t.Main,{}),(0,s.jsx)(t.NextScript,{})]})]})}}};